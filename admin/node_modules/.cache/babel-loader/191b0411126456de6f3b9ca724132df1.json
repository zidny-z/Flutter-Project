{"ast":null,"code":"import _every from \"lodash/every\";\nimport _find from \"lodash/find\";\nimport _isFunction from \"lodash/isFunction\";\nimport _throttle from \"lodash/throttle\";\nimport _sortBy from \"lodash/sortBy\";\nimport _get from \"lodash/get\";\nimport _range from \"lodash/range\";\nimport _isNil from \"lodash/isNil\";\nimport _isBoolean from \"lodash/isBoolean\";\nimport _isArray from \"lodash/isArray\";\nvar _excluded = [\"item\"],\n    _excluded2 = [\"children\", \"className\", \"width\", \"height\", \"style\", \"compact\", \"title\", \"desc\"];\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (null != _i) {\n    var _s,\n        _e,\n        _x,\n        _r,\n        _arr = [],\n        _n = !0,\n        _d = !1;\n\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\n\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nimport React, { Component, cloneElement, isValidElement, createElement } from 'react';\nimport classNames from 'classnames';\nimport { getTicks } from '../cartesian/getTicks';\nimport { Surface } from '../container/Surface';\nimport { Layer } from '../container/Layer';\nimport { Tooltip } from '../component/Tooltip';\nimport { Legend } from '../component/Legend';\nimport { Curve } from '../shape/Curve';\nimport { Cross } from '../shape/Cross';\nimport { Sector } from '../shape/Sector';\nimport { Dot } from '../shape/Dot';\nimport { isInRectangle, Rectangle } from '../shape/Rectangle';\nimport { findAllByType, findChildByType, getDisplayName, parseChildIndex, validateWidthHeight, isChildrenEqual, renderByOrder, getReactEventByType, filterProps } from '../util/ReactUtils';\nimport { CartesianAxis } from '../cartesian/CartesianAxis';\nimport { Brush } from '../cartesian/Brush';\nimport { getOffset, calculateChartCoordinate } from '../util/DOMUtils';\nimport { getAnyElementOfObject, hasDuplicate, uniqueId, isNumber, findEntryInArray } from '../util/DataUtils';\nimport { calculateActiveTickIndex, getMainColorOfGraphicItem, getBarSizeList, getBarPosition, appendOffsetOfLegend, getLegendProps, combineEventHandlers, getTicksOfAxis, getCoordinatesOfGrid, getStackedDataOfItem, parseErrorBarsOfAxis, getBandSizeOfAxis, getStackGroupsByAxisId, isCategoricalAxis, getDomainOfItemsWithSameAxis, getDomainOfStackGroups, getDomainOfDataByKey, parseSpecifiedDomain, parseDomainOfCategoryAxis, getTooltipItem } from '../util/ChartUtils';\nimport { detectReferenceElementsDomain } from '../util/DetectReferenceElementsDomain';\nimport { inRangeOfSector, polarToCartesian } from '../util/PolarUtils';\nimport { shallowEqual } from '../util/ShallowEqual';\nimport { eventCenter, SYNC_EVENT } from '../util/Events';\nimport { adaptEventHandlers } from '../util/types';\nimport { AccessibilityManager } from './AccessibilityManager';\nvar ORIENT_MAP = {\n  xAxis: ['bottom', 'top'],\n  yAxis: ['left', 'right']\n};\nvar originCoordinate = {\n  x: 0,\n  y: 0\n}; // use legacy isFinite only if there is a problem (aka IE)\n// eslint-disable-next-line no-restricted-globals\n\nvar isFinit = Number.isFinite ? Number.isFinite : isFinite;\nvar defer = // eslint-disable-next-line no-nested-ternary\ntypeof requestAnimationFrame === 'function' ? requestAnimationFrame : typeof setImmediate === 'function' ? setImmediate : setTimeout;\nvar deferClear = // eslint-disable-next-line no-nested-ternary\ntypeof cancelAnimationFrame === 'function' ? cancelAnimationFrame : typeof clearImmediate === 'function' ? clearImmediate : clearTimeout;\n\nvar calculateTooltipPos = function calculateTooltipPos(rangeObj, layout) {\n  if (layout === 'horizontal') {\n    return rangeObj.x;\n  }\n\n  if (layout === 'vertical') {\n    return rangeObj.y;\n  }\n\n  if (layout === 'centric') {\n    return rangeObj.angle;\n  }\n\n  return rangeObj.radius;\n};\n\nvar getActiveCoordinate = function getActiveCoordinate(layout, tooltipTicks, activeIndex, rangeObj) {\n  var entry = tooltipTicks.find(function (tick) {\n    return tick && tick.index === activeIndex;\n  });\n\n  if (entry) {\n    if (layout === 'horizontal') {\n      return {\n        x: entry.coordinate,\n        y: rangeObj.y\n      };\n    }\n\n    if (layout === 'vertical') {\n      return {\n        x: rangeObj.x,\n        y: entry.coordinate\n      };\n    }\n\n    if (layout === 'centric') {\n      var _angle = entry.coordinate;\n      var _radius = rangeObj.radius;\n      return _objectSpread(_objectSpread(_objectSpread({}, rangeObj), polarToCartesian(rangeObj.cx, rangeObj.cy, _radius, _angle)), {}, {\n        angle: _angle,\n        radius: _radius\n      });\n    }\n\n    var radius = entry.coordinate;\n    var angle = rangeObj.angle;\n    return _objectSpread(_objectSpread(_objectSpread({}, rangeObj), polarToCartesian(rangeObj.cx, rangeObj.cy, radius, angle)), {}, {\n      angle: angle,\n      radius: radius\n    });\n  }\n\n  return originCoordinate;\n};\n\nvar getDisplayedData = function getDisplayedData(data, _ref, item) {\n  var graphicalItems = _ref.graphicalItems,\n      dataStartIndex = _ref.dataStartIndex,\n      dataEndIndex = _ref.dataEndIndex;\n  var itemsData = (graphicalItems || []).reduce(function (result, child) {\n    var itemData = child.props.data;\n\n    if (itemData && itemData.length) {\n      return [].concat(_toConsumableArray(result), _toConsumableArray(itemData));\n    }\n\n    return result;\n  }, []);\n\n  if (itemsData && itemsData.length > 0) {\n    return itemsData;\n  }\n\n  if (item && item.props && item.props.data && item.props.data.length > 0) {\n    return item.props.data;\n  }\n\n  if (data && data.length && isNumber(dataStartIndex) && isNumber(dataEndIndex)) {\n    return data.slice(dataStartIndex, dataEndIndex + 1);\n  }\n\n  return [];\n};\n/**\n * Takes a domain and user props to determine whether he provided the domain via props or if we need to calculate it.\n * @param   {AxisDomain}  domain              The potential domain from props\n * @param   {Boolean}     allowDataOverflow   from props\n * @param   {String}      axisType            from props\n * @returns {Boolean}                         `true` if domain is specified by user\n */\n\n\nfunction isDomainSpecifiedByUser(domain, allowDataOverflow, axisType) {\n  if (axisType === 'number' && allowDataOverflow === true && Array.isArray(domain)) {\n    var domainStart = domain === null || domain === void 0 ? void 0 : domain[0];\n    var domainEnd = domain === null || domain === void 0 ? void 0 : domain[1];\n    /*\n     * The `isNumber` check is needed because the user could also provide strings like \"dataMin\" via the domain props.\n     * In such case, we have to compute the domain from the data.\n     */\n\n    if (!!domainStart && !!domainEnd && isNumber(domainStart) && isNumber(domainEnd)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction getDefaultDomainByAxisType(axisType) {\n  return axisType === 'number' ? [0, 'auto'] : undefined;\n}\n/**\n * Get the content to be displayed in the tooltip\n * @param  {Object} state          Current state\n * @param  {Array}  chartData      The data defined in chart\n * @param  {Number} activeIndex    Active index of data\n * @param  {String} activeLabel    Active label of data\n * @return {Array}                 The content of tooltip\n */\n\n\nvar getTooltipContent = function getTooltipContent(state, chartData, activeIndex, activeLabel) {\n  var graphicalItems = state.graphicalItems,\n      tooltipAxis = state.tooltipAxis;\n  var displayedData = getDisplayedData(chartData, state);\n\n  if (activeIndex < 0 || !graphicalItems || !graphicalItems.length || activeIndex >= displayedData.length) {\n    return null;\n  } // get data by activeIndex when the axis don't allow duplicated category\n\n\n  return graphicalItems.reduce(function (result, child) {\n    var hide = child.props.hide;\n\n    if (hide) {\n      return result;\n    }\n\n    var data = child.props.data;\n    var payload;\n\n    if (tooltipAxis.dataKey && !tooltipAxis.allowDuplicatedCategory) {\n      // graphic child has data props\n      var entries = data === undefined ? displayedData : data;\n      payload = findEntryInArray(entries, tooltipAxis.dataKey, activeLabel);\n    } else {\n      payload = data && data[activeIndex] || displayedData[activeIndex];\n    }\n\n    if (!payload) {\n      return result;\n    }\n\n    return [].concat(_toConsumableArray(result), [getTooltipItem(child, payload)]);\n  }, []);\n};\n/**\n * Returns tooltip data based on a mouse position (as a parameter or in state)\n * @param  {Object} state     current state\n * @param  {Array}  chartData the data defined in chart\n * @param  {String} layout     The layout type of chart\n * @param  {Object} rangeObj  { x, y } coordinates\n * @return {Object}           Tooltip data data\n */\n\n\nvar getTooltipData = function getTooltipData(state, chartData, layout, rangeObj) {\n  var rangeData = rangeObj || {\n    x: state.chartX,\n    y: state.chartY\n  };\n  var pos = calculateTooltipPos(rangeData, layout);\n  var ticks = state.orderedTooltipTicks,\n      axis = state.tooltipAxis,\n      tooltipTicks = state.tooltipTicks;\n  var activeIndex = calculateActiveTickIndex(pos, ticks, tooltipTicks, axis);\n\n  if (activeIndex >= 0 && tooltipTicks) {\n    var activeLabel = tooltipTicks[activeIndex] && tooltipTicks[activeIndex].value;\n    var activePayload = getTooltipContent(state, chartData, activeIndex, activeLabel);\n    var activeCoordinate = getActiveCoordinate(layout, ticks, activeIndex, rangeData);\n    return {\n      activeTooltipIndex: activeIndex,\n      activeLabel: activeLabel,\n      activePayload: activePayload,\n      activeCoordinate: activeCoordinate\n    };\n  }\n\n  return null;\n};\n/**\n * Get the configuration of axis by the options of axis instance\n * @param  {Object} props         Latest props\n * @param {Array}  axes           The instance of axes\n * @param  {Array} graphicalItems The instances of item\n * @param  {String} axisType      The type of axis, xAxis - x-axis, yAxis - y-axis\n * @param  {String} axisIdKey     The unique id of an axis\n * @param  {Object} stackGroups   The items grouped by axisId and stackId\n * @param {Number} dataStartIndex The start index of the data series when a brush is applied\n * @param {Number} dataEndIndex   The end index of the data series when a brush is applied\n * @return {Object}      Configuration\n */\n\n\nexport var getAxisMapByAxes = function getAxisMapByAxes(props, _ref2) {\n  var axes = _ref2.axes,\n      graphicalItems = _ref2.graphicalItems,\n      axisType = _ref2.axisType,\n      axisIdKey = _ref2.axisIdKey,\n      stackGroups = _ref2.stackGroups,\n      dataStartIndex = _ref2.dataStartIndex,\n      dataEndIndex = _ref2.dataEndIndex;\n  var layout = props.layout,\n      children = props.children,\n      stackOffset = props.stackOffset;\n  var isCategorical = isCategoricalAxis(layout, axisType); // Eliminate duplicated axes\n\n  var axisMap = axes.reduce(function (result, child) {\n    var _child$props$domain2;\n\n    var _child$props = child.props,\n        type = _child$props.type,\n        dataKey = _child$props.dataKey,\n        allowDataOverflow = _child$props.allowDataOverflow,\n        allowDuplicatedCategory = _child$props.allowDuplicatedCategory,\n        scale = _child$props.scale,\n        ticks = _child$props.ticks,\n        includeHidden = _child$props.includeHidden;\n    var axisId = child.props[axisIdKey];\n\n    if (result[axisId]) {\n      return result;\n    }\n\n    var displayedData = getDisplayedData(props.data, {\n      graphicalItems: graphicalItems.filter(function (item) {\n        return item.props[axisIdKey] === axisId;\n      }),\n      dataStartIndex: dataStartIndex,\n      dataEndIndex: dataEndIndex\n    });\n    var len = displayedData.length;\n    var domain, duplicateDomain, categoricalDomain;\n    /*\n     * This is a hack to short-circuit the domain creation here to enhance performance.\n     * Usually, the data is used to determine the domain, but when the user specifies\n     * a domain upfront (via props), there is no need to calculate the domain start and end,\n     * which is very expensive for a larger amount of data.\n     * The only thing that would prohibit short-circuiting is when the user doesn't allow data overflow,\n     * because the axis is supposed to ignore the specified domain that way.\n     */\n\n    if (isDomainSpecifiedByUser(child.props.domain, allowDataOverflow, type)) {\n      domain = parseSpecifiedDomain(child.props.domain, null, allowDataOverflow);\n      /* The chart can be categorical and have the domain specified in numbers\n       * we still need to calculate the categorical domain\n       * TODO: refactor this more\n       */\n\n      if (isCategorical && (type === 'number' || scale !== 'auto')) {\n        categoricalDomain = getDomainOfDataByKey(displayedData, dataKey, 'category');\n      }\n    } // if the domain is defaulted we need this for `originalDomain` as well\n\n\n    var defaultDomain = getDefaultDomainByAxisType(type); // we didn't create the domain from user's props above, so we need to calculate it\n\n    if (!domain || domain.length === 0) {\n      var _child$props$domain;\n\n      var childDomain = (_child$props$domain = child.props.domain) !== null && _child$props$domain !== void 0 ? _child$props$domain : defaultDomain;\n\n      if (dataKey) {\n        // has dataKey in <Axis />\n        domain = getDomainOfDataByKey(displayedData, dataKey, type);\n\n        if (type === 'category' && isCategorical) {\n          // the field type is category data and this axis is categorical axis\n          var duplicate = hasDuplicate(domain);\n\n          if (allowDuplicatedCategory && duplicate) {\n            duplicateDomain = domain; // When category axis has duplicated text, serial numbers are used to generate scale\n\n            domain = _range(0, len);\n          } else if (!allowDuplicatedCategory) {\n            // remove duplicated category\n            domain = parseDomainOfCategoryAxis(childDomain, domain, child).reduce(function (finalDomain, entry) {\n              return finalDomain.indexOf(entry) >= 0 ? finalDomain : [].concat(_toConsumableArray(finalDomain), [entry]);\n            }, []);\n          }\n        } else if (type === 'category') {\n          // the field type is category data and this axis is numerical axis\n          if (!allowDuplicatedCategory) {\n            domain = parseDomainOfCategoryAxis(childDomain, domain, child).reduce(function (finalDomain, entry) {\n              return finalDomain.indexOf(entry) >= 0 || entry === '' || _isNil(entry) ? finalDomain : [].concat(_toConsumableArray(finalDomain), [entry]);\n            }, []);\n          } else {\n            // eliminate undefined or null or empty string\n            domain = domain.filter(function (entry) {\n              return entry !== '' && !_isNil(entry);\n            });\n          }\n        } else if (type === 'number') {\n          // the field type is numerical\n          var errorBarsDomain = parseErrorBarsOfAxis(displayedData, graphicalItems.filter(function (item) {\n            return item.props[axisIdKey] === axisId && (includeHidden || !item.props.hide);\n          }), dataKey, axisType, layout);\n\n          if (errorBarsDomain) {\n            domain = errorBarsDomain;\n          }\n        }\n\n        if (isCategorical && (type === 'number' || scale !== 'auto')) {\n          categoricalDomain = getDomainOfDataByKey(displayedData, dataKey, 'category');\n        }\n      } else if (isCategorical) {\n        // the axis is a categorical axis\n        domain = _range(0, len);\n      } else if (stackGroups && stackGroups[axisId] && stackGroups[axisId].hasStack && type === 'number') {\n        // when stackOffset is 'expand', the domain may be calculated as [0, 1.000000000002]\n        domain = stackOffset === 'expand' ? [0, 1] : getDomainOfStackGroups(stackGroups[axisId].stackGroups, dataStartIndex, dataEndIndex);\n      } else {\n        domain = getDomainOfItemsWithSameAxis(displayedData, graphicalItems.filter(function (item) {\n          return item.props[axisIdKey] === axisId && (includeHidden || !item.props.hide);\n        }), type, layout, true);\n      }\n\n      if (type === 'number') {\n        // To detect wether there is any reference lines whose props alwaysShow is true\n        domain = detectReferenceElementsDomain(children, domain, axisId, axisType, ticks);\n\n        if (childDomain) {\n          domain = parseSpecifiedDomain(childDomain, domain, allowDataOverflow);\n        }\n      } else if (type === 'category' && childDomain) {\n        var axisDomain = childDomain;\n        var isDomainValid = domain.every(function (entry) {\n          return axisDomain.indexOf(entry) >= 0;\n        });\n\n        if (isDomainValid) {\n          domain = axisDomain;\n        }\n      }\n    }\n\n    return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, axisId, _objectSpread(_objectSpread({}, child.props), {}, {\n      axisType: axisType,\n      domain: domain,\n      categoricalDomain: categoricalDomain,\n      duplicateDomain: duplicateDomain,\n      originalDomain: (_child$props$domain2 = child.props.domain) !== null && _child$props$domain2 !== void 0 ? _child$props$domain2 : defaultDomain,\n      isCategorical: isCategorical,\n      layout: layout\n    })));\n  }, {});\n  return axisMap;\n};\n/**\n * Get the configuration of axis by the options of item,\n * this kind of axis does not display in chart\n * @param  {Object} props         Latest props\n * @param  {Array} graphicalItems The instances of item\n * @param  {ReactElement} Axis    Axis Component\n * @param  {String} axisType      The type of axis, xAxis - x-axis, yAxis - y-axis\n * @param  {String} axisIdKey     The unique id of an axis\n * @param  {Object} stackGroups   The items grouped by axisId and stackId\n * @param {Number} dataStartIndex The start index of the data series when a brush is applied\n * @param {Number} dataEndIndex   The end index of the data series when a brush is applied\n * @return {Object}               Configuration\n */\n\nvar getAxisMapByItems = function getAxisMapByItems(props, _ref3) {\n  var graphicalItems = _ref3.graphicalItems,\n      Axis = _ref3.Axis,\n      axisType = _ref3.axisType,\n      axisIdKey = _ref3.axisIdKey,\n      stackGroups = _ref3.stackGroups,\n      dataStartIndex = _ref3.dataStartIndex,\n      dataEndIndex = _ref3.dataEndIndex;\n  var layout = props.layout,\n      children = props.children;\n  var displayedData = getDisplayedData(props.data, {\n    graphicalItems: graphicalItems,\n    dataStartIndex: dataStartIndex,\n    dataEndIndex: dataEndIndex\n  });\n  var len = displayedData.length;\n  var isCategorical = isCategoricalAxis(layout, axisType);\n  var index = -1; // The default type of x-axis is category axis,\n  // The default contents of x-axis is the serial numbers of data\n  // The default type of y-axis is number axis\n  // The default contents of y-axis is the domain of data\n\n  var axisMap = graphicalItems.reduce(function (result, child) {\n    var axisId = child.props[axisIdKey];\n    var originalDomain = getDefaultDomainByAxisType('number');\n\n    if (!result[axisId]) {\n      index++;\n      var domain;\n\n      if (isCategorical) {\n        domain = _range(0, len);\n      } else if (stackGroups && stackGroups[axisId] && stackGroups[axisId].hasStack) {\n        domain = getDomainOfStackGroups(stackGroups[axisId].stackGroups, dataStartIndex, dataEndIndex);\n        domain = detectReferenceElementsDomain(children, domain, axisId, axisType);\n      } else {\n        domain = parseSpecifiedDomain(originalDomain, getDomainOfItemsWithSameAxis(displayedData, graphicalItems.filter(function (item) {\n          return item.props[axisIdKey] === axisId && !item.props.hide;\n        }), 'number', layout), Axis.defaultProps.allowDataOverflow);\n        domain = detectReferenceElementsDomain(children, domain, axisId, axisType);\n      }\n\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, axisId, _objectSpread(_objectSpread({\n        axisType: axisType\n      }, Axis.defaultProps), {}, {\n        hide: true,\n        orientation: _get(ORIENT_MAP, \"\".concat(axisType, \".\").concat(index % 2), null),\n        domain: domain,\n        originalDomain: originalDomain,\n        isCategorical: isCategorical,\n        layout: layout // specify scale when no Axis\n        // scale: isCategorical ? 'band' : 'linear',\n\n      })));\n    }\n\n    return result;\n  }, {});\n  return axisMap;\n};\n/**\n * Get the configuration of all x-axis or y-axis\n * @param  {Object} props          Latest props\n * @param  {String} axisType       The type of axis\n * @param  {Array}  graphicalItems The instances of item\n * @param  {Object} stackGroups    The items grouped by axisId and stackId\n * @param {Number} dataStartIndex  The start index of the data series when a brush is applied\n * @param {Number} dataEndIndex    The end index of the data series when a brush is applied\n * @return {Object}          Configuration\n */\n\n\nvar getAxisMap = function getAxisMap(props, _ref4) {\n  var _ref4$axisType = _ref4.axisType,\n      axisType = _ref4$axisType === void 0 ? 'xAxis' : _ref4$axisType,\n      AxisComp = _ref4.AxisComp,\n      graphicalItems = _ref4.graphicalItems,\n      stackGroups = _ref4.stackGroups,\n      dataStartIndex = _ref4.dataStartIndex,\n      dataEndIndex = _ref4.dataEndIndex;\n  var children = props.children;\n  var axisIdKey = \"\".concat(axisType, \"Id\"); // Get all the instance of Axis\n\n  var axes = findAllByType(children, AxisComp);\n  var axisMap = {};\n\n  if (axes && axes.length) {\n    axisMap = getAxisMapByAxes(props, {\n      axes: axes,\n      graphicalItems: graphicalItems,\n      axisType: axisType,\n      axisIdKey: axisIdKey,\n      stackGroups: stackGroups,\n      dataStartIndex: dataStartIndex,\n      dataEndIndex: dataEndIndex\n    });\n  } else if (graphicalItems && graphicalItems.length) {\n    axisMap = getAxisMapByItems(props, {\n      Axis: AxisComp,\n      graphicalItems: graphicalItems,\n      axisType: axisType,\n      axisIdKey: axisIdKey,\n      stackGroups: stackGroups,\n      dataStartIndex: dataStartIndex,\n      dataEndIndex: dataEndIndex\n    });\n  }\n\n  return axisMap;\n};\n\nvar tooltipTicksGenerator = function tooltipTicksGenerator(axisMap) {\n  var axis = getAnyElementOfObject(axisMap);\n  var tooltipTicks = getTicksOfAxis(axis, false, true);\n  return {\n    tooltipTicks: tooltipTicks,\n    orderedTooltipTicks: _sortBy(tooltipTicks, function (o) {\n      return o.coordinate;\n    }),\n    tooltipAxis: axis,\n    tooltipAxisBandSize: getBandSizeOfAxis(axis, tooltipTicks)\n  };\n};\n/**\n * Returns default, reset state for the categorical chart.\n * @param {Object} props Props object to use when creating the default state\n * @return {Object} Whole new state\n */\n\n\nvar createDefaultState = function createDefaultState(props) {\n  var _brushItem$props, _brushItem$props2;\n\n  var children = props.children,\n      defaultShowTooltip = props.defaultShowTooltip;\n  var brushItem = findChildByType(children, Brush);\n  var startIndex = brushItem && brushItem.props && brushItem.props.startIndex || 0;\n  var endIndex = (brushItem === null || brushItem === void 0 ? void 0 : (_brushItem$props = brushItem.props) === null || _brushItem$props === void 0 ? void 0 : _brushItem$props.endIndex) !== undefined ? brushItem === null || brushItem === void 0 ? void 0 : (_brushItem$props2 = brushItem.props) === null || _brushItem$props2 === void 0 ? void 0 : _brushItem$props2.endIndex : props.data && props.data.length - 1 || 0;\n  return {\n    chartX: 0,\n    chartY: 0,\n    dataStartIndex: startIndex,\n    dataEndIndex: endIndex,\n    activeTooltipIndex: -1,\n    isTooltipActive: !_isNil(defaultShowTooltip) ? defaultShowTooltip : false\n  };\n};\n\nvar hasGraphicalBarItem = function hasGraphicalBarItem(graphicalItems) {\n  if (!graphicalItems || !graphicalItems.length) {\n    return false;\n  }\n\n  return graphicalItems.some(function (item) {\n    var name = getDisplayName(item && item.type);\n    return name && name.indexOf('Bar') >= 0;\n  });\n};\n\nvar getAxisNameByLayout = function getAxisNameByLayout(layout) {\n  if (layout === 'horizontal') {\n    return {\n      numericAxisName: 'yAxis',\n      cateAxisName: 'xAxis'\n    };\n  }\n\n  if (layout === 'vertical') {\n    return {\n      numericAxisName: 'xAxis',\n      cateAxisName: 'yAxis'\n    };\n  }\n\n  if (layout === 'centric') {\n    return {\n      numericAxisName: 'radiusAxis',\n      cateAxisName: 'angleAxis'\n    };\n  }\n\n  return {\n    numericAxisName: 'angleAxis',\n    cateAxisName: 'radiusAxis'\n  };\n};\n/**\n * Calculate the offset of main part in the svg element\n * @param  {Object} props          Latest props\n * graphicalItems The instances of item\n * xAxisMap       The configuration of x-axis\n * yAxisMap       The configuration of y-axis\n * @param  {Object} prevLegendBBox          the boundary box of legend\n * @return {Object} The offset of main part in the svg element\n */\n\n\nvar calculateOffset = function calculateOffset(_ref5, prevLegendBBox) {\n  var props = _ref5.props,\n      graphicalItems = _ref5.graphicalItems,\n      _ref5$xAxisMap = _ref5.xAxisMap,\n      xAxisMap = _ref5$xAxisMap === void 0 ? {} : _ref5$xAxisMap,\n      _ref5$yAxisMap = _ref5.yAxisMap,\n      yAxisMap = _ref5$yAxisMap === void 0 ? {} : _ref5$yAxisMap;\n  var width = props.width,\n      height = props.height,\n      children = props.children;\n  var margin = props.margin || {};\n  var brushItem = findChildByType(children, Brush);\n  var legendItem = findChildByType(children, Legend);\n  var offsetH = Object.keys(yAxisMap).reduce(function (result, id) {\n    var entry = yAxisMap[id];\n    var orientation = entry.orientation;\n\n    if (!entry.mirror && !entry.hide) {\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, orientation, result[orientation] + entry.width));\n    }\n\n    return result;\n  }, {\n    left: margin.left || 0,\n    right: margin.right || 0\n  });\n  var offsetV = Object.keys(xAxisMap).reduce(function (result, id) {\n    var entry = xAxisMap[id];\n    var orientation = entry.orientation;\n\n    if (!entry.mirror && !entry.hide) {\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, orientation, _get(result, \"\".concat(orientation)) + entry.height));\n    }\n\n    return result;\n  }, {\n    top: margin.top || 0,\n    bottom: margin.bottom || 0\n  });\n\n  var offset = _objectSpread(_objectSpread({}, offsetV), offsetH);\n\n  var brushBottom = offset.bottom;\n\n  if (brushItem) {\n    offset.bottom += brushItem.props.height || Brush.defaultProps.height;\n  }\n\n  if (legendItem && prevLegendBBox) {\n    offset = appendOffsetOfLegend(offset, graphicalItems, props, prevLegendBBox);\n  }\n\n  return _objectSpread(_objectSpread({\n    brushBottom: brushBottom\n  }, offset), {}, {\n    width: width - offset.left - offset.right,\n    height: height - offset.top - offset.bottom\n  });\n};\n\nexport var generateCategoricalChart = function generateCategoricalChart(_ref6) {\n  var _class;\n\n  var chartName = _ref6.chartName,\n      GraphicalChild = _ref6.GraphicalChild,\n      _ref6$defaultTooltipE = _ref6.defaultTooltipEventType,\n      defaultTooltipEventType = _ref6$defaultTooltipE === void 0 ? 'axis' : _ref6$defaultTooltipE,\n      _ref6$validateTooltip = _ref6.validateTooltipEventTypes,\n      validateTooltipEventTypes = _ref6$validateTooltip === void 0 ? ['axis'] : _ref6$validateTooltip,\n      axisComponents = _ref6.axisComponents,\n      legendContent = _ref6.legendContent,\n      formatAxisMap = _ref6.formatAxisMap,\n      defaultProps = _ref6.defaultProps;\n\n  var getFormatItems = function getFormatItems(props, currentState) {\n    var graphicalItems = currentState.graphicalItems,\n        stackGroups = currentState.stackGroups,\n        offset = currentState.offset,\n        updateId = currentState.updateId,\n        dataStartIndex = currentState.dataStartIndex,\n        dataEndIndex = currentState.dataEndIndex;\n    var barSize = props.barSize,\n        layout = props.layout,\n        barGap = props.barGap,\n        barCategoryGap = props.barCategoryGap,\n        globalMaxBarSize = props.maxBarSize;\n\n    var _getAxisNameByLayout = getAxisNameByLayout(layout),\n        numericAxisName = _getAxisNameByLayout.numericAxisName,\n        cateAxisName = _getAxisNameByLayout.cateAxisName;\n\n    var hasBar = hasGraphicalBarItem(graphicalItems);\n    var sizeList = hasBar && getBarSizeList({\n      barSize: barSize,\n      stackGroups: stackGroups\n    });\n    var formattedItems = [];\n    graphicalItems.forEach(function (item, index) {\n      var displayedData = getDisplayedData(props.data, {\n        dataStartIndex: dataStartIndex,\n        dataEndIndex: dataEndIndex\n      }, item);\n      var _item$props = item.props,\n          dataKey = _item$props.dataKey,\n          childMaxBarSize = _item$props.maxBarSize;\n      var numericAxisId = item.props[\"\".concat(numericAxisName, \"Id\")];\n      var cateAxisId = item.props[\"\".concat(cateAxisName, \"Id\")];\n      var axisObj = axisComponents.reduce(function (result, entry) {\n        var _objectSpread6;\n\n        var axisMap = currentState[\"\".concat(entry.axisType, \"Map\")];\n        var id = item.props[\"\".concat(entry.axisType, \"Id\")];\n        var axis = axisMap && axisMap[id];\n        return _objectSpread(_objectSpread({}, result), {}, (_objectSpread6 = {}, _defineProperty(_objectSpread6, entry.axisType, axis), _defineProperty(_objectSpread6, \"\".concat(entry.axisType, \"Ticks\"), getTicksOfAxis(axis)), _objectSpread6));\n      }, {});\n      var cateAxis = axisObj[cateAxisName];\n      var cateTicks = axisObj[\"\".concat(cateAxisName, \"Ticks\")];\n      var stackedData = stackGroups && stackGroups[numericAxisId] && stackGroups[numericAxisId].hasStack && getStackedDataOfItem(item, stackGroups[numericAxisId].stackGroups);\n      var itemIsBar = getDisplayName(item.type).indexOf('Bar') >= 0;\n      var bandSize = getBandSizeOfAxis(cateAxis, cateTicks);\n      var barPosition = [];\n\n      if (itemIsBar) {\n        var _ref7, _getBandSizeOfAxis; // 如果是bar，计算bar的位置\n\n\n        var maxBarSize = _isNil(childMaxBarSize) ? globalMaxBarSize : childMaxBarSize;\n        var barBandSize = (_ref7 = (_getBandSizeOfAxis = getBandSizeOfAxis(cateAxis, cateTicks, true)) !== null && _getBandSizeOfAxis !== void 0 ? _getBandSizeOfAxis : maxBarSize) !== null && _ref7 !== void 0 ? _ref7 : 0;\n        barPosition = getBarPosition({\n          barGap: barGap,\n          barCategoryGap: barCategoryGap,\n          bandSize: barBandSize !== bandSize ? barBandSize : bandSize,\n          sizeList: sizeList[cateAxisId],\n          maxBarSize: maxBarSize\n        });\n\n        if (barBandSize !== bandSize) {\n          barPosition = barPosition.map(function (pos) {\n            return _objectSpread(_objectSpread({}, pos), {}, {\n              position: _objectSpread(_objectSpread({}, pos.position), {}, {\n                offset: pos.position.offset - barBandSize / 2\n              })\n            });\n          });\n        }\n      }\n\n      var composedFn = item && item.type && item.type.getComposedData;\n\n      if (composedFn) {\n        var _objectSpread7;\n\n        formattedItems.push({\n          props: _objectSpread(_objectSpread({}, composedFn(_objectSpread(_objectSpread({}, axisObj), {}, {\n            displayedData: displayedData,\n            props: props,\n            dataKey: dataKey,\n            item: item,\n            bandSize: bandSize,\n            barPosition: barPosition,\n            offset: offset,\n            stackedData: stackedData,\n            layout: layout,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          }))), {}, (_objectSpread7 = {\n            key: item.key || \"item-\".concat(index)\n          }, _defineProperty(_objectSpread7, numericAxisName, axisObj[numericAxisName]), _defineProperty(_objectSpread7, cateAxisName, axisObj[cateAxisName]), _defineProperty(_objectSpread7, \"animationId\", updateId), _objectSpread7)),\n          childIndex: parseChildIndex(item, props.children),\n          item: item\n        });\n      }\n    });\n    return formattedItems;\n  };\n  /**\n   * The AxisMaps are expensive to render on large data sets\n   * so provide the ability to store them in state and only update them when necessary\n   * they are dependent upon the start and end index of\n   * the brush so it's important that this method is called _after_\n   * the state is updated with any new start/end indices\n   *\n   * @param {Object} props          The props object to be used for updating the axismaps\n   * dataStartIndex: The start index of the data series when a brush is applied\n   * dataEndIndex: The end index of the data series when a brush is applied\n   * updateId: The update id\n   * @param {Object} prevState      Prev state\n   * @return {Object} state New state to set\n   */\n\n\n  var updateStateOfAxisMapsOffsetAndStackGroups = function updateStateOfAxisMapsOffsetAndStackGroups(_ref8, prevState) {\n    var props = _ref8.props,\n        dataStartIndex = _ref8.dataStartIndex,\n        dataEndIndex = _ref8.dataEndIndex,\n        updateId = _ref8.updateId;\n\n    if (!validateWidthHeight({\n      props: props\n    })) {\n      return null;\n    }\n\n    var children = props.children,\n        layout = props.layout,\n        stackOffset = props.stackOffset,\n        data = props.data,\n        reverseStackOrder = props.reverseStackOrder;\n\n    var _getAxisNameByLayout2 = getAxisNameByLayout(layout),\n        numericAxisName = _getAxisNameByLayout2.numericAxisName,\n        cateAxisName = _getAxisNameByLayout2.cateAxisName;\n\n    var graphicalItems = findAllByType(children, GraphicalChild);\n    var stackGroups = getStackGroupsByAxisId(data, graphicalItems, \"\".concat(numericAxisName, \"Id\"), \"\".concat(cateAxisName, \"Id\"), stackOffset, reverseStackOrder);\n    var axisObj = axisComponents.reduce(function (result, entry) {\n      var name = \"\".concat(entry.axisType, \"Map\");\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, name, getAxisMap(props, _objectSpread(_objectSpread({}, entry), {}, {\n        graphicalItems: graphicalItems,\n        stackGroups: entry.axisType === numericAxisName && stackGroups,\n        dataStartIndex: dataStartIndex,\n        dataEndIndex: dataEndIndex\n      }))));\n    }, {});\n    var offset = calculateOffset(_objectSpread(_objectSpread({}, axisObj), {}, {\n      props: props,\n      graphicalItems: graphicalItems\n    }), prevState === null || prevState === void 0 ? void 0 : prevState.legendBBox);\n    Object.keys(axisObj).forEach(function (key) {\n      axisObj[key] = formatAxisMap(props, axisObj[key], offset, key.replace('Map', ''), chartName);\n    });\n    var cateAxisMap = axisObj[\"\".concat(cateAxisName, \"Map\")];\n    var ticksObj = tooltipTicksGenerator(cateAxisMap);\n    var formattedGraphicalItems = getFormatItems(props, _objectSpread(_objectSpread({}, axisObj), {}, {\n      dataStartIndex: dataStartIndex,\n      dataEndIndex: dataEndIndex,\n      updateId: updateId,\n      graphicalItems: graphicalItems,\n      stackGroups: stackGroups,\n      offset: offset\n    }));\n    return _objectSpread(_objectSpread({\n      formattedGraphicalItems: formattedGraphicalItems,\n      graphicalItems: graphicalItems,\n      offset: offset,\n      stackGroups: stackGroups\n    }, ticksObj), axisObj);\n  };\n\n  return _class = /*#__PURE__*/function (_Component) {\n    _inherits(CategoricalChartWrapper, _Component);\n\n    var _super = _createSuper(CategoricalChartWrapper);\n\n    function CategoricalChartWrapper(_props) {\n      var _this;\n\n      _classCallCheck(this, CategoricalChartWrapper);\n\n      _this = _super.call(this, _props);\n\n      _defineProperty(_assertThisInitialized(_this), \"accessibilityManager\", new AccessibilityManager());\n\n      _defineProperty(_assertThisInitialized(_this), \"clearDeferId\", function () {\n        if (!_isNil(_this.deferId) && deferClear) {\n          deferClear(_this.deferId);\n        }\n\n        _this.deferId = null;\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleLegendBBoxUpdate\", function (box) {\n        if (box) {\n          var _this$state = _this.state,\n              dataStartIndex = _this$state.dataStartIndex,\n              dataEndIndex = _this$state.dataEndIndex,\n              updateId = _this$state.updateId;\n\n          _this.setState(_objectSpread({\n            legendBBox: box\n          }, updateStateOfAxisMapsOffsetAndStackGroups({\n            props: _this.props,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex,\n            updateId: updateId\n          }, _objectSpread(_objectSpread({}, _this.state), {}, {\n            legendBBox: box\n          }))));\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleReceiveSyncEvent\", function (cId, chartId, data) {\n        var syncId = _this.props.syncId;\n\n        if (syncId === cId && chartId !== _this.uniqueChartId) {\n          _this.clearDeferId();\n\n          _this.deferId = defer && defer(_this.applySyncEvent.bind(_assertThisInitialized(_this), data));\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleBrushChange\", function (_ref9) {\n        var startIndex = _ref9.startIndex,\n            endIndex = _ref9.endIndex; // Only trigger changes if the extents of the brush have actually changed\n\n        if (startIndex !== _this.state.dataStartIndex || endIndex !== _this.state.dataEndIndex) {\n          var updateId = _this.state.updateId;\n\n          _this.setState(function () {\n            return _objectSpread({\n              dataStartIndex: startIndex,\n              dataEndIndex: endIndex\n            }, updateStateOfAxisMapsOffsetAndStackGroups({\n              props: _this.props,\n              dataStartIndex: startIndex,\n              dataEndIndex: endIndex,\n              updateId: updateId\n            }, _this.state));\n          });\n\n          _this.triggerSyncEvent({\n            dataStartIndex: startIndex,\n            dataEndIndex: endIndex\n          });\n        }\n      });\n      /**\n       * The handler of mouse entering chart\n       * @param  {Object} e              Event object\n       * @return {Null}                  null\n       */\n\n\n      _defineProperty(_assertThisInitialized(_this), \"handleMouseEnter\", function (e) {\n        var onMouseEnter = _this.props.onMouseEnter;\n\n        var mouse = _this.getMouseInfo(e);\n\n        if (mouse) {\n          var _nextState = _objectSpread(_objectSpread({}, mouse), {}, {\n            isTooltipActive: true\n          });\n\n          _this.setState(_nextState);\n\n          _this.triggerSyncEvent(_nextState);\n\n          if (_isFunction(onMouseEnter)) {\n            onMouseEnter(_nextState, e);\n          }\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"triggeredAfterMouseMove\", function (e) {\n        var onMouseMove = _this.props.onMouseMove;\n\n        var mouse = _this.getMouseInfo(e);\n\n        var nextState = mouse ? _objectSpread(_objectSpread({}, mouse), {}, {\n          isTooltipActive: true\n        }) : {\n          isTooltipActive: false\n        };\n\n        _this.setState(nextState);\n\n        _this.triggerSyncEvent(nextState);\n\n        if (_isFunction(onMouseMove)) {\n          onMouseMove(nextState, e);\n        }\n      });\n      /**\n       * The handler of mouse entering a scatter\n       * @param {Object} el The active scatter\n       * @return {Object} no return\n       */\n\n\n      _defineProperty(_assertThisInitialized(_this), \"handleItemMouseEnter\", function (el) {\n        _this.setState(function () {\n          return {\n            isTooltipActive: true,\n            activeItem: el,\n            activePayload: el.tooltipPayload,\n            activeCoordinate: el.tooltipPosition || {\n              x: el.cx,\n              y: el.cy\n            }\n          };\n        });\n      });\n      /**\n       * The handler of mouse leaving a scatter\n       * @return {Object} no return\n       */\n\n\n      _defineProperty(_assertThisInitialized(_this), \"handleItemMouseLeave\", function () {\n        _this.setState(function () {\n          return {\n            isTooltipActive: false\n          };\n        });\n      });\n      /**\n       * The handler of mouse moving in chart\n       * @param  {Object} e        Event object\n       * @return {Null} no return\n       */\n\n\n      _defineProperty(_assertThisInitialized(_this), \"handleMouseMove\", function (e) {\n        if (e && _isFunction(e.persist)) {\n          e.persist();\n        }\n\n        _this.triggeredAfterMouseMove(e);\n      });\n      /**\n       * The handler if mouse leaving chart\n       * @param {Object} e Event object\n       * @return {Null} no return\n       */\n\n\n      _defineProperty(_assertThisInitialized(_this), \"handleMouseLeave\", function (e) {\n        var onMouseLeave = _this.props.onMouseLeave;\n        var nextState = {\n          isTooltipActive: false\n        };\n\n        _this.setState(nextState);\n\n        _this.triggerSyncEvent(nextState);\n\n        if (_isFunction(onMouseLeave)) {\n          onMouseLeave(nextState, e);\n        }\n\n        _this.cancelThrottledTriggerAfterMouseMove();\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleOuterEvent\", function (e) {\n        var eventName = getReactEventByType(e);\n\n        var event = _get(_this.props, \"\".concat(eventName));\n\n        if (eventName && _isFunction(event)) {\n          var mouse;\n\n          if (/.*touch.*/i.test(eventName)) {\n            mouse = _this.getMouseInfo(e.changedTouches[0]);\n          } else {\n            mouse = _this.getMouseInfo(e);\n          }\n\n          var handler = event; // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n          // @ts-ignore\n\n          handler(mouse, e);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleClick\", function (e) {\n        var onClick = _this.props.onClick;\n\n        var mouse = _this.getMouseInfo(e);\n\n        if (mouse) {\n          var _nextState2 = _objectSpread(_objectSpread({}, mouse), {}, {\n            isTooltipActive: true\n          });\n\n          _this.setState(_nextState2);\n\n          _this.triggerSyncEvent(_nextState2);\n\n          if (_isFunction(onClick)) {\n            onClick(_nextState2, e);\n          }\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleMouseDown\", function (e) {\n        var onMouseDown = _this.props.onMouseDown;\n\n        if (_isFunction(onMouseDown)) {\n          var _nextState3 = _this.getMouseInfo(e);\n\n          onMouseDown(_nextState3, e);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleMouseUp\", function (e) {\n        var onMouseUp = _this.props.onMouseUp;\n\n        if (_isFunction(onMouseUp)) {\n          var _nextState4 = _this.getMouseInfo(e);\n\n          onMouseUp(_nextState4, e);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleTouchMove\", function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseMove(e.changedTouches[0]);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleTouchStart\", function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseDown(e.changedTouches[0]);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleTouchEnd\", function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseUp(e.changedTouches[0]);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"verticalCoordinatesGenerator\", function (_ref10) {\n        var xAxis = _ref10.xAxis,\n            width = _ref10.width,\n            height = _ref10.height,\n            offset = _ref10.offset;\n        return getCoordinatesOfGrid(getTicks(_objectSpread(_objectSpread(_objectSpread({}, CartesianAxis.defaultProps), xAxis), {}, {\n          ticks: getTicksOfAxis(xAxis, true),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          }\n        })), offset.left, offset.left + offset.width);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"horizontalCoordinatesGenerator\", function (_ref11) {\n        var yAxis = _ref11.yAxis,\n            width = _ref11.width,\n            height = _ref11.height,\n            offset = _ref11.offset;\n        return getCoordinatesOfGrid(getTicks(_objectSpread(_objectSpread(_objectSpread({}, CartesianAxis.defaultProps), yAxis), {}, {\n          ticks: getTicksOfAxis(yAxis, true),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          }\n        })), offset.top, offset.top + offset.height);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"axesTicksGenerator\", function (axis) {\n        return getTicksOfAxis(axis, true);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"renderCursor\", function (element) {\n        var _this$state2 = _this.state,\n            isTooltipActive = _this$state2.isTooltipActive,\n            activeCoordinate = _this$state2.activeCoordinate,\n            activePayload = _this$state2.activePayload,\n            offset = _this$state2.offset,\n            activeTooltipIndex = _this$state2.activeTooltipIndex;\n\n        var tooltipEventType = _this.getTooltipEventType();\n\n        if (!element || !element.props.cursor || !isTooltipActive || !activeCoordinate || chartName !== 'ScatterChart' && tooltipEventType !== 'axis') {\n          return null;\n        }\n\n        var layout = _this.props.layout;\n        var restProps;\n        var cursorComp = Curve;\n\n        if (chartName === 'ScatterChart') {\n          restProps = activeCoordinate;\n          cursorComp = Cross;\n        } else if (chartName === 'BarChart') {\n          restProps = _this.getCursorRectangle();\n          cursorComp = Rectangle;\n        } else if (layout === 'radial') {\n          var _this$getCursorPoints = _this.getCursorPoints(),\n              cx = _this$getCursorPoints.cx,\n              cy = _this$getCursorPoints.cy,\n              radius = _this$getCursorPoints.radius,\n              startAngle = _this$getCursorPoints.startAngle,\n              endAngle = _this$getCursorPoints.endAngle;\n\n          restProps = {\n            cx: cx,\n            cy: cy,\n            startAngle: startAngle,\n            endAngle: endAngle,\n            innerRadius: radius,\n            outerRadius: radius\n          };\n          cursorComp = Sector;\n        } else {\n          restProps = {\n            points: _this.getCursorPoints()\n          };\n          cursorComp = Curve;\n        }\n\n        var key = element.key || '_recharts-cursor';\n\n        var cursorProps = _objectSpread(_objectSpread(_objectSpread(_objectSpread({\n          stroke: '#ccc',\n          pointerEvents: 'none'\n        }, offset), restProps), filterProps(element.props.cursor)), {}, {\n          payload: activePayload,\n          payloadIndex: activeTooltipIndex,\n          key: key,\n          className: 'recharts-tooltip-cursor'\n        });\n\n        return /*#__PURE__*/isValidElement(element.props.cursor) ? /*#__PURE__*/cloneElement(element.props.cursor, cursorProps) : /*#__PURE__*/createElement(cursorComp, cursorProps);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"renderPolarAxis\", function (element, displayName, index) {\n        var axisType = _get(element, 'type.axisType');\n\n        var axisMap = _get(_this.state, \"\".concat(axisType, \"Map\"));\n\n        var axisOption = axisMap && axisMap[element.props[\"\".concat(axisType, \"Id\")]];\n        return /*#__PURE__*/cloneElement(element, _objectSpread(_objectSpread({}, axisOption), {}, {\n          className: axisType,\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          ticks: getTicksOfAxis(axisOption, true)\n        }));\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"renderXAxis\", function (element, displayName, index) {\n        var xAxisMap = _this.state.xAxisMap;\n        var axisObj = xAxisMap[element.props.xAxisId];\n        return _this.renderAxis(axisObj, element, displayName, index);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"renderYAxis\", function (element, displayName, index) {\n        var yAxisMap = _this.state.yAxisMap;\n        var axisObj = yAxisMap[element.props.yAxisId];\n        return _this.renderAxis(axisObj, element, displayName, index);\n      });\n      /**\n       * Draw grid\n       * @param  {ReactElement} element the grid item\n       * @return {ReactElement} The instance of grid\n       */\n\n\n      _defineProperty(_assertThisInitialized(_this), \"renderGrid\", function (element) {\n        var _this$state3 = _this.state,\n            xAxisMap = _this$state3.xAxisMap,\n            yAxisMap = _this$state3.yAxisMap,\n            offset = _this$state3.offset;\n        var _this$props = _this.props,\n            width = _this$props.width,\n            height = _this$props.height;\n        var xAxis = getAnyElementOfObject(xAxisMap);\n\n        var yAxisWithFiniteDomain = _find(yAxisMap, function (axis) {\n          return _every(axis.domain, isFinit);\n        });\n\n        var yAxis = yAxisWithFiniteDomain || getAnyElementOfObject(yAxisMap);\n        var props = element.props || {};\n        return /*#__PURE__*/cloneElement(element, {\n          key: element.key || 'grid',\n          x: isNumber(props.x) ? props.x : offset.left,\n          y: isNumber(props.y) ? props.y : offset.top,\n          width: isNumber(props.width) ? props.width : offset.width,\n          height: isNumber(props.height) ? props.height : offset.height,\n          xAxis: xAxis,\n          yAxis: yAxis,\n          offset: offset,\n          chartWidth: width,\n          chartHeight: height,\n          verticalCoordinatesGenerator: props.verticalCoordinatesGenerator || _this.verticalCoordinatesGenerator,\n          horizontalCoordinatesGenerator: props.horizontalCoordinatesGenerator || _this.horizontalCoordinatesGenerator\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"renderPolarGrid\", function (element) {\n        var _element$props = element.props,\n            radialLines = _element$props.radialLines,\n            polarAngles = _element$props.polarAngles,\n            polarRadius = _element$props.polarRadius;\n        var _this$state4 = _this.state,\n            radiusAxisMap = _this$state4.radiusAxisMap,\n            angleAxisMap = _this$state4.angleAxisMap;\n        var radiusAxis = getAnyElementOfObject(radiusAxisMap);\n        var angleAxis = getAnyElementOfObject(angleAxisMap);\n        var cx = angleAxis.cx,\n            cy = angleAxis.cy,\n            innerRadius = angleAxis.innerRadius,\n            outerRadius = angleAxis.outerRadius;\n        return /*#__PURE__*/cloneElement(element, {\n          polarAngles: _isArray(polarAngles) ? polarAngles : getTicksOfAxis(angleAxis, true).map(function (entry) {\n            return entry.coordinate;\n          }),\n          polarRadius: _isArray(polarRadius) ? polarRadius : getTicksOfAxis(radiusAxis, true).map(function (entry) {\n            return entry.coordinate;\n          }),\n          cx: cx,\n          cy: cy,\n          innerRadius: innerRadius,\n          outerRadius: outerRadius,\n          key: element.key || 'polar-grid',\n          radialLines: radialLines\n        });\n      });\n      /**\n       * Draw legend\n       * @return {ReactElement}            The instance of Legend\n       */\n\n\n      _defineProperty(_assertThisInitialized(_this), \"renderLegend\", function () {\n        var formattedGraphicalItems = _this.state.formattedGraphicalItems;\n        var _this$props2 = _this.props,\n            children = _this$props2.children,\n            width = _this$props2.width,\n            height = _this$props2.height;\n        var margin = _this.props.margin || {};\n        var legendWidth = width - (margin.left || 0) - (margin.right || 0);\n        var props = getLegendProps({\n          children: children,\n          formattedGraphicalItems: formattedGraphicalItems,\n          legendWidth: legendWidth,\n          legendContent: legendContent\n        });\n\n        if (!props) {\n          return null;\n        }\n\n        var item = props.item,\n            otherProps = _objectWithoutProperties(props, _excluded);\n\n        return /*#__PURE__*/cloneElement(item, _objectSpread(_objectSpread({}, otherProps), {}, {\n          chartWidth: width,\n          chartHeight: height,\n          margin: margin,\n          ref: function ref(legend) {\n            _this.legendInstance = legend;\n          },\n          onBBoxUpdate: _this.handleLegendBBoxUpdate\n        }));\n      });\n      /**\n       * Draw Tooltip\n       * @return {ReactElement}  The instance of Tooltip\n       */\n\n\n      _defineProperty(_assertThisInitialized(_this), \"renderTooltip\", function () {\n        var children = _this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip);\n\n        if (!tooltipItem) {\n          return null;\n        }\n\n        var _this$state5 = _this.state,\n            isTooltipActive = _this$state5.isTooltipActive,\n            activeCoordinate = _this$state5.activeCoordinate,\n            activePayload = _this$state5.activePayload,\n            activeLabel = _this$state5.activeLabel,\n            offset = _this$state5.offset;\n        return /*#__PURE__*/cloneElement(tooltipItem, {\n          viewBox: _objectSpread(_objectSpread({}, offset), {}, {\n            x: offset.left,\n            y: offset.top\n          }),\n          active: isTooltipActive,\n          label: activeLabel,\n          payload: isTooltipActive ? activePayload : [],\n          coordinate: activeCoordinate\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"renderBrush\", function (element) {\n        var _this$props3 = _this.props,\n            margin = _this$props3.margin,\n            data = _this$props3.data;\n        var _this$state6 = _this.state,\n            offset = _this$state6.offset,\n            dataStartIndex = _this$state6.dataStartIndex,\n            dataEndIndex = _this$state6.dataEndIndex,\n            updateId = _this$state6.updateId; // TODO: update brush when children update\n\n        return /*#__PURE__*/cloneElement(element, {\n          key: element.key || '_recharts-brush',\n          onChange: combineEventHandlers(_this.handleBrushChange, null, element.props.onChange),\n          data: data,\n          x: isNumber(element.props.x) ? element.props.x : offset.left,\n          y: isNumber(element.props.y) ? element.props.y : offset.top + offset.height + offset.brushBottom - (margin.bottom || 0),\n          width: isNumber(element.props.width) ? element.props.width : offset.width,\n          startIndex: dataStartIndex,\n          endIndex: dataEndIndex,\n          updateId: \"brush-\".concat(updateId)\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"renderReferenceElement\", function (element, displayName, index) {\n        if (!element) {\n          return null;\n        }\n\n        var _assertThisInitialize = _assertThisInitialized(_this),\n            clipPathId = _assertThisInitialize.clipPathId;\n\n        var _this$state7 = _this.state,\n            xAxisMap = _this$state7.xAxisMap,\n            yAxisMap = _this$state7.yAxisMap,\n            offset = _this$state7.offset;\n        var _element$props2 = element.props,\n            xAxisId = _element$props2.xAxisId,\n            yAxisId = _element$props2.yAxisId;\n        return /*#__PURE__*/cloneElement(element, {\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          xAxis: xAxisMap[xAxisId],\n          yAxis: yAxisMap[yAxisId],\n          viewBox: {\n            x: offset.left,\n            y: offset.top,\n            width: offset.width,\n            height: offset.height\n          },\n          clipPathId: clipPathId\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"renderActivePoints\", function (_ref12) {\n        var item = _ref12.item,\n            activePoint = _ref12.activePoint,\n            basePoint = _ref12.basePoint,\n            childIndex = _ref12.childIndex,\n            isRange = _ref12.isRange;\n        var result = [];\n        var key = item.props.key;\n        var _item$item$props = item.item.props,\n            activeDot = _item$item$props.activeDot,\n            dataKey = _item$item$props.dataKey;\n\n        var dotProps = _objectSpread(_objectSpread({\n          index: childIndex,\n          dataKey: dataKey,\n          cx: activePoint.x,\n          cy: activePoint.y,\n          r: 4,\n          fill: getMainColorOfGraphicItem(item.item),\n          strokeWidth: 2,\n          stroke: '#fff',\n          payload: activePoint.payload,\n          value: activePoint.value,\n          key: \"\".concat(key, \"-activePoint-\").concat(childIndex)\n        }, filterProps(activeDot)), adaptEventHandlers(activeDot));\n\n        result.push(CategoricalChartWrapper.renderActiveDot(activeDot, dotProps));\n\n        if (basePoint) {\n          result.push(CategoricalChartWrapper.renderActiveDot(activeDot, _objectSpread(_objectSpread({}, dotProps), {}, {\n            cx: basePoint.x,\n            cy: basePoint.y,\n            key: \"\".concat(key, \"-basePoint-\").concat(childIndex)\n          })));\n        } else if (isRange) {\n          result.push(null);\n        }\n\n        return result;\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"renderGraphicChild\", function (element, displayName, index) {\n        var item = _this.filterFormatItem(element, displayName, index);\n\n        if (!item) {\n          return null;\n        }\n\n        var tooltipEventType = _this.getTooltipEventType();\n\n        var _this$state8 = _this.state,\n            isTooltipActive = _this$state8.isTooltipActive,\n            tooltipAxis = _this$state8.tooltipAxis,\n            activeTooltipIndex = _this$state8.activeTooltipIndex,\n            activeLabel = _this$state8.activeLabel;\n        var children = _this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip);\n        var _item$props2 = item.props,\n            points = _item$props2.points,\n            isRange = _item$props2.isRange,\n            baseLine = _item$props2.baseLine;\n        var _item$item$props2 = item.item.props,\n            activeDot = _item$item$props2.activeDot,\n            hide = _item$item$props2.hide;\n        var hasActive = !hide && isTooltipActive && tooltipItem && activeDot && activeTooltipIndex >= 0;\n        var itemEvents = {};\n\n        if (tooltipEventType !== 'axis' && tooltipItem && tooltipItem.props.trigger === 'click') {\n          itemEvents = {\n            onClick: combineEventHandlers(_this.handleItemMouseEnter, null, element.props.onCLick)\n          };\n        } else if (tooltipEventType !== 'axis') {\n          itemEvents = {\n            onMouseLeave: combineEventHandlers(_this.handleItemMouseLeave, null, element.props.onMouseLeave),\n            onMouseEnter: combineEventHandlers(_this.handleItemMouseEnter, null, element.props.onMouseEnter)\n          };\n        }\n\n        var graphicalItem = /*#__PURE__*/cloneElement(element, _objectSpread(_objectSpread({}, item.props), itemEvents));\n\n        function findWithPayload(entry) {\n          // TODO needs to verify dataKey is Function\n          return typeof tooltipAxis.dataKey === 'function' ? tooltipAxis.dataKey(entry.payload) : null;\n        }\n\n        if (hasActive) {\n          var activePoint, basePoint;\n\n          if (tooltipAxis.dataKey && !tooltipAxis.allowDuplicatedCategory) {\n            // number transform to string\n            var specifiedKey = typeof tooltipAxis.dataKey === 'function' ? findWithPayload : 'payload.'.concat(tooltipAxis.dataKey.toString());\n            activePoint = findEntryInArray(points, specifiedKey, activeLabel);\n            basePoint = isRange && baseLine && findEntryInArray(baseLine, specifiedKey, activeLabel);\n          } else {\n            activePoint = points[activeTooltipIndex];\n            basePoint = isRange && baseLine && baseLine[activeTooltipIndex];\n          }\n\n          if (!_isNil(activePoint)) {\n            return [graphicalItem].concat(_toConsumableArray(_this.renderActivePoints({\n              item: item,\n              activePoint: activePoint,\n              basePoint: basePoint,\n              childIndex: activeTooltipIndex,\n              isRange: isRange\n            })));\n          }\n        }\n\n        if (isRange) {\n          return [graphicalItem, null, null];\n        }\n\n        return [graphicalItem, null];\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"renderCustomized\", function (element, displayName, index) {\n        return /*#__PURE__*/cloneElement(element, _objectSpread(_objectSpread({\n          key: \"recharts-customized-\".concat(index)\n        }, _this.props), _this.state));\n      });\n\n      _this.uniqueChartId = _isNil(_props.id) ? uniqueId('recharts') : _props.id;\n      _this.clipPathId = \"\".concat(_this.uniqueChartId, \"-clip\");\n\n      if (_props.throttleDelay) {\n        _this.triggeredAfterMouseMove = _throttle(_this.triggeredAfterMouseMove, _props.throttleDelay);\n      }\n\n      _this.state = {};\n      return _this;\n    }\n\n    _createClass(CategoricalChartWrapper, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this$props$margin$le, _this$props$margin$to;\n\n        if (!_isNil(this.props.syncId)) {\n          this.addListener();\n        }\n\n        this.accessibilityManager.setDetails({\n          container: this.container,\n          offset: {\n            left: (_this$props$margin$le = this.props.margin.left) !== null && _this$props$margin$le !== void 0 ? _this$props$margin$le : 0,\n            top: (_this$props$margin$to = this.props.margin.top) !== null && _this$props$margin$to !== void 0 ? _this$props$margin$to : 0\n          },\n          coordinateList: this.state.tooltipTicks,\n          mouseHandlerCallback: this.handleMouseMove,\n          layout: this.props.layout\n        });\n      }\n    }, {\n      key: \"getSnapshotBeforeUpdate\",\n      value: function getSnapshotBeforeUpdate(prevProps, prevState) {\n        if (!this.props.accessibilityLayer) {\n          return null;\n        }\n\n        if (this.state.tooltipTicks !== prevState.tooltipTicks) {\n          this.accessibilityManager.setDetails({\n            coordinateList: this.state.tooltipTicks\n          });\n        }\n\n        if (this.props.layout !== prevProps.layout) {\n          this.accessibilityManager.setDetails({\n            layout: this.props.layout\n          });\n        }\n\n        if (this.props.margin !== prevProps.margin) {\n          var _this$props$margin$le2, _this$props$margin$to2;\n\n          this.accessibilityManager.setDetails({\n            offset: {\n              left: (_this$props$margin$le2 = this.props.margin.left) !== null && _this$props$margin$le2 !== void 0 ? _this$props$margin$le2 : 0,\n              top: (_this$props$margin$to2 = this.props.margin.top) !== null && _this$props$margin$to2 !== void 0 ? _this$props$margin$to2 : 0\n            }\n          });\n        } // Something has to be returned for getSnapshotBeforeUpdate\n\n\n        return null;\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        // add syncId\n        if (_isNil(prevProps.syncId) && !_isNil(this.props.syncId)) {\n          this.addListener();\n        } // remove syncId\n\n\n        if (!_isNil(prevProps.syncId) && _isNil(this.props.syncId)) {\n          this.removeListener();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.clearDeferId();\n\n        if (!_isNil(this.props.syncId)) {\n          this.removeListener();\n        }\n\n        this.cancelThrottledTriggerAfterMouseMove();\n      }\n    }, {\n      key: \"cancelThrottledTriggerAfterMouseMove\",\n      value: function cancelThrottledTriggerAfterMouseMove() {\n        if (typeof this.triggeredAfterMouseMove.cancel === 'function') {\n          this.triggeredAfterMouseMove.cancel();\n        }\n      }\n    }, {\n      key: \"getTooltipEventType\",\n      value: function getTooltipEventType() {\n        var tooltipItem = findChildByType(this.props.children, Tooltip);\n\n        if (tooltipItem && _isBoolean(tooltipItem.props.shared)) {\n          var eventType = tooltipItem.props.shared ? 'axis' : 'item';\n          return validateTooltipEventTypes.indexOf(eventType) >= 0 ? eventType : defaultTooltipEventType;\n        }\n\n        return defaultTooltipEventType;\n      }\n      /**\n       * Get the information of mouse in chart, return null when the mouse is not in the chart\n       * @param  {Object} event    The event object\n       * @return {Object}          Mouse data\n       */\n\n    }, {\n      key: \"getMouseInfo\",\n      value: function getMouseInfo(event) {\n        if (!this.container) {\n          return null;\n        }\n\n        var containerOffset = getOffset(this.container);\n        var e = calculateChartCoordinate(event, containerOffset);\n        var rangeObj = this.inRange(e.chartX, e.chartY);\n\n        if (!rangeObj) {\n          return null;\n        }\n\n        var _this$state9 = this.state,\n            xAxisMap = _this$state9.xAxisMap,\n            yAxisMap = _this$state9.yAxisMap;\n        var tooltipEventType = this.getTooltipEventType();\n\n        if (tooltipEventType !== 'axis' && xAxisMap && yAxisMap) {\n          var xScale = getAnyElementOfObject(xAxisMap).scale;\n          var yScale = getAnyElementOfObject(yAxisMap).scale;\n          var xValue = xScale && xScale.invert ? xScale.invert(e.chartX) : null;\n          var yValue = yScale && yScale.invert ? yScale.invert(e.chartY) : null;\n          return _objectSpread(_objectSpread({}, e), {}, {\n            xValue: xValue,\n            yValue: yValue\n          });\n        }\n\n        var toolTipData = getTooltipData(this.state, this.props.data, this.props.layout, rangeObj);\n\n        if (toolTipData) {\n          return _objectSpread(_objectSpread({}, e), toolTipData);\n        }\n\n        return null;\n      }\n    }, {\n      key: \"getCursorRectangle\",\n      value: function getCursorRectangle() {\n        var layout = this.props.layout;\n        var _this$state10 = this.state,\n            activeCoordinate = _this$state10.activeCoordinate,\n            offset = _this$state10.offset,\n            tooltipAxisBandSize = _this$state10.tooltipAxisBandSize;\n        var halfSize = tooltipAxisBandSize / 2;\n        return {\n          stroke: 'none',\n          fill: '#ccc',\n          x: layout === 'horizontal' ? activeCoordinate.x - halfSize : offset.left + 0.5,\n          y: layout === 'horizontal' ? offset.top + 0.5 : activeCoordinate.y - halfSize,\n          width: layout === 'horizontal' ? tooltipAxisBandSize : offset.width - 1,\n          height: layout === 'horizontal' ? offset.height - 1 : tooltipAxisBandSize\n        };\n      }\n    }, {\n      key: \"getCursorPoints\",\n      value: function getCursorPoints() {\n        var layout = this.props.layout;\n        var _this$state11 = this.state,\n            activeCoordinate = _this$state11.activeCoordinate,\n            offset = _this$state11.offset;\n        var x1, y1, x2, y2;\n\n        if (layout === 'horizontal') {\n          x1 = activeCoordinate.x;\n          x2 = x1;\n          y1 = offset.top;\n          y2 = offset.top + offset.height;\n        } else if (layout === 'vertical') {\n          y1 = activeCoordinate.y;\n          y2 = y1;\n          x1 = offset.left;\n          x2 = offset.left + offset.width;\n        } else if (!_isNil(activeCoordinate.cx) || !_isNil(activeCoordinate.cy)) {\n          if (layout === 'centric') {\n            var cx = activeCoordinate.cx,\n                cy = activeCoordinate.cy,\n                innerRadius = activeCoordinate.innerRadius,\n                outerRadius = activeCoordinate.outerRadius,\n                angle = activeCoordinate.angle;\n            var innerPoint = polarToCartesian(cx, cy, innerRadius, angle);\n            var outerPoint = polarToCartesian(cx, cy, outerRadius, angle);\n            x1 = innerPoint.x;\n            y1 = innerPoint.y;\n            x2 = outerPoint.x;\n            y2 = outerPoint.y;\n          } else {\n            var _cx = activeCoordinate.cx,\n                _cy = activeCoordinate.cy,\n                radius = activeCoordinate.radius,\n                startAngle = activeCoordinate.startAngle,\n                endAngle = activeCoordinate.endAngle;\n            var startPoint = polarToCartesian(_cx, _cy, radius, startAngle);\n            var endPoint = polarToCartesian(_cx, _cy, radius, endAngle);\n            return {\n              points: [startPoint, endPoint],\n              cx: _cx,\n              cy: _cy,\n              radius: radius,\n              startAngle: startAngle,\n              endAngle: endAngle\n            };\n          }\n        }\n\n        return [{\n          x: x1,\n          y: y1\n        }, {\n          x: x2,\n          y: y2\n        }];\n      }\n    }, {\n      key: \"inRange\",\n      value: function inRange(x, y) {\n        var layout = this.props.layout;\n\n        if (layout === 'horizontal' || layout === 'vertical') {\n          var offset = this.state.offset;\n          var isInRange = x >= offset.left && x <= offset.left + offset.width && y >= offset.top && y <= offset.top + offset.height;\n          return isInRange ? {\n            x: x,\n            y: y\n          } : null;\n        }\n\n        var _this$state12 = this.state,\n            angleAxisMap = _this$state12.angleAxisMap,\n            radiusAxisMap = _this$state12.radiusAxisMap;\n\n        if (angleAxisMap && radiusAxisMap) {\n          var angleAxis = getAnyElementOfObject(angleAxisMap);\n          return inRangeOfSector({\n            x: x,\n            y: y\n          }, angleAxis);\n        }\n\n        return null;\n      }\n    }, {\n      key: \"parseEventsOfWrapper\",\n      value: function parseEventsOfWrapper() {\n        var children = this.props.children;\n        var tooltipEventType = this.getTooltipEventType();\n        var tooltipItem = findChildByType(children, Tooltip);\n        var tooltipEvents = {};\n\n        if (tooltipItem && tooltipEventType === 'axis') {\n          if (tooltipItem.props.trigger === 'click') {\n            tooltipEvents = {\n              onClick: this.handleClick\n            };\n          } else {\n            tooltipEvents = {\n              onMouseEnter: this.handleMouseEnter,\n              onMouseMove: this.handleMouseMove,\n              onMouseLeave: this.handleMouseLeave,\n              onTouchMove: this.handleTouchMove,\n              onTouchStart: this.handleTouchStart,\n              onTouchEnd: this.handleTouchEnd\n            };\n          }\n        }\n\n        var outerEvents = adaptEventHandlers(this.props, this.handleOuterEvent);\n        return _objectSpread(_objectSpread({}, outerEvents), tooltipEvents);\n      }\n      /* eslint-disable  no-underscore-dangle */\n\n    }, {\n      key: \"addListener\",\n      value: function addListener() {\n        eventCenter.on(SYNC_EVENT, this.handleReceiveSyncEvent);\n\n        if (eventCenter.setMaxListeners && eventCenter._maxListeners) {\n          eventCenter.setMaxListeners(eventCenter._maxListeners + 1);\n        }\n      }\n    }, {\n      key: \"removeListener\",\n      value: function removeListener() {\n        eventCenter.removeListener(SYNC_EVENT, this.handleReceiveSyncEvent);\n\n        if (eventCenter.setMaxListeners && eventCenter._maxListeners) {\n          eventCenter.setMaxListeners(eventCenter._maxListeners - 1);\n        }\n      }\n    }, {\n      key: \"triggerSyncEvent\",\n      value: function triggerSyncEvent(data) {\n        var syncId = this.props.syncId;\n\n        if (!_isNil(syncId)) {\n          eventCenter.emit(SYNC_EVENT, syncId, this.uniqueChartId, data);\n        }\n      }\n    }, {\n      key: \"applySyncEvent\",\n      value: function applySyncEvent(data) {\n        var _this$props4 = this.props,\n            layout = _this$props4.layout,\n            syncMethod = _this$props4.syncMethod;\n        var updateId = this.state.updateId;\n        var dataStartIndex = data.dataStartIndex,\n            dataEndIndex = data.dataEndIndex;\n\n        if (!_isNil(data.dataStartIndex) || !_isNil(data.dataEndIndex)) {\n          this.setState(_objectSpread({\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          }, updateStateOfAxisMapsOffsetAndStackGroups({\n            props: this.props,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex,\n            updateId: updateId\n          }, this.state)));\n        } else if (!_isNil(data.activeTooltipIndex)) {\n          var chartX = data.chartX,\n              chartY = data.chartY;\n          var activeTooltipIndex = data.activeTooltipIndex;\n          var _this$state13 = this.state,\n              offset = _this$state13.offset,\n              tooltipTicks = _this$state13.tooltipTicks;\n\n          if (!offset) {\n            return;\n          }\n\n          if (typeof syncMethod === 'function') {\n            // Call a callback function. If there is an application specific algorithm\n            activeTooltipIndex = syncMethod(tooltipTicks, data);\n          } else if (syncMethod === 'value') {\n            // Set activeTooltipIndex to the index with the same value as data.activeLabel\n            // For loop instead of findIndex because the latter is very slow in some browsers\n            activeTooltipIndex = -1; // in case we cannot find the element\n\n            for (var i = 0; i < tooltipTicks.length; i++) {\n              if (tooltipTicks[i].value === data.activeLabel) {\n                activeTooltipIndex = i;\n                break;\n              }\n            }\n          }\n\n          var viewBox = _objectSpread(_objectSpread({}, offset), {}, {\n            x: offset.left,\n            y: offset.top\n          }); // When a categorical chart is combined with another chart, the value of chartX\n          // and chartY may beyond the boundaries.\n\n\n          var validateChartX = Math.min(chartX, viewBox.x + viewBox.width);\n          var validateChartY = Math.min(chartY, viewBox.y + viewBox.height);\n          var activeLabel = tooltipTicks[activeTooltipIndex] && tooltipTicks[activeTooltipIndex].value;\n          var activePayload = getTooltipContent(this.state, this.props.data, activeTooltipIndex);\n          var activeCoordinate = tooltipTicks[activeTooltipIndex] ? {\n            x: layout === 'horizontal' ? tooltipTicks[activeTooltipIndex].coordinate : validateChartX,\n            y: layout === 'horizontal' ? validateChartY : tooltipTicks[activeTooltipIndex].coordinate\n          } : originCoordinate;\n          this.setState(_objectSpread(_objectSpread({}, data), {}, {\n            activeLabel: activeLabel,\n            activeCoordinate: activeCoordinate,\n            activePayload: activePayload,\n            activeTooltipIndex: activeTooltipIndex\n          }));\n        } else {\n          this.setState(data);\n        }\n      }\n    }, {\n      key: \"filterFormatItem\",\n      value: function filterFormatItem(item, displayName, childIndex) {\n        var formattedGraphicalItems = this.state.formattedGraphicalItems;\n\n        for (var i = 0, len = formattedGraphicalItems.length; i < len; i++) {\n          var entry = formattedGraphicalItems[i];\n\n          if (entry.item === item || entry.props.key === item.key || displayName === getDisplayName(entry.item.type) && childIndex === entry.childIndex) {\n            return entry;\n          }\n        }\n\n        return null;\n      }\n    }, {\n      key: \"renderAxis\",\n      value:\n      /**\n       * Draw axis\n       * @param {Object} axisOptions The options of axis\n       * @param {Object} element      The axis element\n       * @param {String} displayName  The display name of axis\n       * @param {Number} index        The index of element\n       * @return {ReactElement}       The instance of x-axes\n       */\n      function renderAxis(axisOptions, element, displayName, index) {\n        var _this$props5 = this.props,\n            width = _this$props5.width,\n            height = _this$props5.height;\n        return /*#__PURE__*/React.createElement(CartesianAxis, _extends({}, axisOptions, {\n          className: \"recharts-\".concat(axisOptions.axisType, \" \").concat(axisOptions.axisType),\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          },\n          ticksGenerator: this.axesTicksGenerator\n        }));\n      }\n    }, {\n      key: \"renderClipPath\",\n      value: function renderClipPath() {\n        var clipPathId = this.clipPathId;\n        var _this$state$offset = this.state.offset,\n            left = _this$state$offset.left,\n            top = _this$state$offset.top,\n            height = _this$state$offset.height,\n            width = _this$state$offset.width;\n        return /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n          id: clipPathId\n        }, /*#__PURE__*/React.createElement(\"rect\", {\n          x: left,\n          y: top,\n          height: height,\n          width: width\n        })));\n      }\n    }, {\n      key: \"getXScales\",\n      value: function getXScales() {\n        var xAxisMap = this.state.xAxisMap;\n        return xAxisMap ? Object.entries(xAxisMap).reduce(function (res, _ref13) {\n          var _ref14 = _slicedToArray(_ref13, 2),\n              axisId = _ref14[0],\n              axisProps = _ref14[1];\n\n          return _objectSpread(_objectSpread({}, res), {}, _defineProperty({}, axisId, axisProps.scale));\n        }, {}) : null;\n      }\n    }, {\n      key: \"getYScales\",\n      value: function getYScales() {\n        var yAxisMap = this.state.yAxisMap;\n        return yAxisMap ? Object.entries(yAxisMap).reduce(function (res, _ref15) {\n          var _ref16 = _slicedToArray(_ref15, 2),\n              axisId = _ref16[0],\n              axisProps = _ref16[1];\n\n          return _objectSpread(_objectSpread({}, res), {}, _defineProperty({}, axisId, axisProps.scale));\n        }, {}) : null;\n      }\n    }, {\n      key: \"getXScaleByAxisId\",\n      value: function getXScaleByAxisId(axisId) {\n        var _this$state$xAxisMap, _this$state$xAxisMap$;\n\n        return (_this$state$xAxisMap = this.state.xAxisMap) === null || _this$state$xAxisMap === void 0 ? void 0 : (_this$state$xAxisMap$ = _this$state$xAxisMap[axisId]) === null || _this$state$xAxisMap$ === void 0 ? void 0 : _this$state$xAxisMap$.scale;\n      }\n    }, {\n      key: \"getYScaleByAxisId\",\n      value: function getYScaleByAxisId(axisId) {\n        var _this$state$yAxisMap, _this$state$yAxisMap$;\n\n        return (_this$state$yAxisMap = this.state.yAxisMap) === null || _this$state$yAxisMap === void 0 ? void 0 : (_this$state$yAxisMap$ = _this$state$yAxisMap[axisId]) === null || _this$state$yAxisMap$ === void 0 ? void 0 : _this$state$yAxisMap$.scale;\n      }\n    }, {\n      key: \"getItemByXY\",\n      value: function getItemByXY(chartXY) {\n        var formattedGraphicalItems = this.state.formattedGraphicalItems;\n\n        if (formattedGraphicalItems && formattedGraphicalItems.length) {\n          for (var i = 0, len = formattedGraphicalItems.length; i < len; i++) {\n            var graphicalItem = formattedGraphicalItems[i];\n            var props = graphicalItem.props,\n                item = graphicalItem.item;\n            var itemDisplayName = getDisplayName(item.type);\n\n            if (itemDisplayName === 'Bar') {\n              var activeBarItem = (props.data || []).find(function (entry) {\n                return isInRectangle(chartXY, entry);\n              });\n\n              if (activeBarItem) {\n                return {\n                  graphicalItem: graphicalItem,\n                  payload: activeBarItem\n                };\n              }\n            } else if (itemDisplayName === 'RadialBar') {\n              var _activeBarItem = (props.data || []).find(function (entry) {\n                return inRangeOfSector(chartXY, entry);\n              });\n\n              if (_activeBarItem) {\n                return {\n                  graphicalItem: graphicalItem,\n                  payload: _activeBarItem\n                };\n              }\n            }\n          }\n        }\n\n        return null;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n\n        if (!validateWidthHeight(this)) {\n          return null;\n        }\n\n        var _this$props6 = this.props,\n            children = _this$props6.children,\n            className = _this$props6.className,\n            width = _this$props6.width,\n            height = _this$props6.height,\n            style = _this$props6.style,\n            compact = _this$props6.compact,\n            title = _this$props6.title,\n            desc = _this$props6.desc,\n            others = _objectWithoutProperties(_this$props6, _excluded2);\n\n        var attrs = filterProps(others);\n        var map = {\n          CartesianGrid: {\n            handler: this.renderGrid,\n            once: true\n          },\n          ReferenceArea: {\n            handler: this.renderReferenceElement\n          },\n          ReferenceLine: {\n            handler: this.renderReferenceElement\n          },\n          ReferenceDot: {\n            handler: this.renderReferenceElement\n          },\n          XAxis: {\n            handler: this.renderXAxis\n          },\n          YAxis: {\n            handler: this.renderYAxis\n          },\n          Brush: {\n            handler: this.renderBrush,\n            once: true\n          },\n          Bar: {\n            handler: this.renderGraphicChild\n          },\n          Line: {\n            handler: this.renderGraphicChild\n          },\n          Area: {\n            handler: this.renderGraphicChild\n          },\n          Radar: {\n            handler: this.renderGraphicChild\n          },\n          RadialBar: {\n            handler: this.renderGraphicChild\n          },\n          Scatter: {\n            handler: this.renderGraphicChild\n          },\n          Pie: {\n            handler: this.renderGraphicChild\n          },\n          Funnel: {\n            handler: this.renderGraphicChild\n          },\n          Tooltip: {\n            handler: this.renderCursor,\n            once: true\n          },\n          PolarGrid: {\n            handler: this.renderPolarGrid,\n            once: true\n          },\n          PolarAngleAxis: {\n            handler: this.renderPolarAxis\n          },\n          PolarRadiusAxis: {\n            handler: this.renderPolarAxis\n          },\n          Customized: {\n            handler: this.renderCustomized\n          }\n        }; // The \"compact\" mode is mainly used as the panorama within Brush\n\n        if (compact) {\n          return /*#__PURE__*/React.createElement(Surface, _extends({}, attrs, {\n            width: width,\n            height: height,\n            title: title,\n            desc: desc\n          }), this.renderClipPath(), renderByOrder(children, map));\n        }\n\n        if (this.props.accessibilityLayer) {\n          var _2, _img; // Set tabIndex to 0 by default (can be overwritten)\n\n\n          attrs.tabIndex = (_2 = 0) !== null && _2 !== void 0 ? _2 : this.props.tabIndex; // Set role to img by default (can be overwritten)\n\n          attrs.role = (_img = 'img') !== null && _img !== void 0 ? _img : this.props.role;\n\n          attrs.onKeyDown = function (e) {\n            _this2.accessibilityManager.keyboardEvent(e); // 'onKeyDown' is not currently a supported prop that can be passed through\n            // if it's added, this should be added: this.props.onKeyDown(e);\n\n          };\n\n          attrs.onFocus = function () {\n            _this2.accessibilityManager.focus(); // 'onFocus' is not currently a supported prop that can be passed through\n            // if it's added, the focus event should be forwarded to the prop\n\n          };\n        }\n\n        var events = this.parseEventsOfWrapper();\n        return /*#__PURE__*/React.createElement(\"div\", _extends({\n          className: classNames('recharts-wrapper', className),\n          style: _objectSpread({\n            position: 'relative',\n            cursor: 'default',\n            width: width,\n            height: height\n          }, style)\n        }, events, {\n          ref: function ref(node) {\n            _this2.container = node;\n          },\n          role: \"region\"\n        }), /*#__PURE__*/React.createElement(Surface, _extends({}, attrs, {\n          width: width,\n          height: height,\n          title: title,\n          desc: desc\n        }), this.renderClipPath(), renderByOrder(children, map)), this.renderLegend(), this.renderTooltip());\n      }\n    }]);\n\n    return CategoricalChartWrapper;\n  }(Component), _defineProperty(_class, \"displayName\", chartName), _defineProperty(_class, \"defaultProps\", _objectSpread({\n    layout: 'horizontal',\n    stackOffset: 'none',\n    barCategoryGap: '10%',\n    barGap: 4,\n    margin: {\n      top: 5,\n      right: 5,\n      bottom: 5,\n      left: 5\n    },\n    reverseStackOrder: false,\n    syncMethod: 'index'\n  }, defaultProps)), _defineProperty(_class, \"getDerivedStateFromProps\", function (nextProps, prevState) {\n    var data = nextProps.data,\n        children = nextProps.children,\n        width = nextProps.width,\n        height = nextProps.height,\n        layout = nextProps.layout,\n        stackOffset = nextProps.stackOffset,\n        margin = nextProps.margin;\n\n    if (_isNil(prevState.updateId)) {\n      var defaultState = createDefaultState(nextProps);\n      return _objectSpread(_objectSpread(_objectSpread({}, defaultState), {}, {\n        updateId: 0\n      }, updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread(_objectSpread({\n        props: nextProps\n      }, defaultState), {}, {\n        updateId: 0\n      }), prevState)), {}, {\n        prevData: data,\n        prevWidth: width,\n        prevHeight: height,\n        prevLayout: layout,\n        prevStackOffset: stackOffset,\n        prevMargin: margin,\n        prevChildren: children\n      });\n    }\n\n    if (data !== prevState.prevData || width !== prevState.prevWidth || height !== prevState.prevHeight || layout !== prevState.prevLayout || stackOffset !== prevState.prevStackOffset || !shallowEqual(margin, prevState.prevMargin)) {\n      var _defaultState = createDefaultState(nextProps); // Fixes https://github.com/recharts/recharts/issues/2143\n\n\n      var keepFromPrevState = {\n        // (chartX, chartY) are (0,0) in default state, but we want to keep the last mouse position to avoid\n        // any flickering\n        chartX: prevState.chartX,\n        chartY: prevState.chartY,\n        // The tooltip should stay active when it was active in the previous render. If this is not\n        // the case, the tooltip disappears and immediately re-appears, causing a flickering effect\n        isTooltipActive: prevState.isTooltipActive\n      };\n\n      var updatesToState = _objectSpread(_objectSpread({}, getTooltipData(prevState, data, layout)), {}, {\n        updateId: prevState.updateId + 1\n      });\n\n      var newState = _objectSpread(_objectSpread(_objectSpread({}, _defaultState), keepFromPrevState), updatesToState);\n\n      return _objectSpread(_objectSpread(_objectSpread({}, newState), updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread({\n        props: nextProps\n      }, newState), prevState)), {}, {\n        prevData: data,\n        prevWidth: width,\n        prevHeight: height,\n        prevLayout: layout,\n        prevStackOffset: stackOffset,\n        prevMargin: margin,\n        prevChildren: children\n      });\n    }\n\n    if (!isChildrenEqual(children, prevState.prevChildren)) {\n      // update configuration in children\n      var hasGlobalData = !_isNil(data);\n      var newUpdateId = hasGlobalData ? prevState.updateId : prevState.updateId + 1;\n      return _objectSpread(_objectSpread({\n        updateId: newUpdateId\n      }, updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread(_objectSpread({\n        props: nextProps\n      }, prevState), {}, {\n        updateId: newUpdateId\n      }), prevState)), {}, {\n        prevChildren: children\n      });\n    }\n\n    return null;\n  }), _defineProperty(_class, \"renderActiveDot\", function (option, props) {\n    var dot;\n\n    if ( /*#__PURE__*/isValidElement(option)) {\n      dot = /*#__PURE__*/cloneElement(option, props);\n    } else if (_isFunction(option)) {\n      dot = option(props);\n    } else {\n      dot = /*#__PURE__*/React.createElement(Dot, props);\n    }\n\n    return /*#__PURE__*/React.createElement(Layer, {\n      className: \"recharts-active-dot\",\n      key: props.key\n    }, dot);\n  }), _class;\n};","map":{"version":3,"sources":["D:/SM 8/super-admin-web-contrib/node_modules/recharts/es6/chart/generateCategoricalChart.js"],"names":["_every","_find","_isFunction","_throttle","_sortBy","_get","_range","_isNil","_isBoolean","_isArray","_excluded","_excluded2","_typeof","obj","Symbol","iterator","constructor","prototype","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","_i","_s","_e","_x","_r","_arr","_n","_d","call","next","Object","done","push","value","length","err","Array","isArray","_extends","assign","bind","target","arguments","source","key","hasOwnProperty","apply","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","keys","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","_toPropertyKey","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","minLen","_arrayLikeToArray","n","toString","slice","name","from","test","iter","len","arr2","ownKeys","object","enumerableOnly","symbols","filter","sym","getOwnPropertyDescriptor","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","Number","React","Component","cloneElement","isValidElement","createElement","classNames","getTicks","Surface","Layer","Tooltip","Legend","Curve","Cross","Sector","Dot","isInRectangle","Rectangle","findAllByType","findChildByType","getDisplayName","parseChildIndex","validateWidthHeight","isChildrenEqual","renderByOrder","getReactEventByType","filterProps","CartesianAxis","Brush","getOffset","calculateChartCoordinate","getAnyElementOfObject","hasDuplicate","uniqueId","isNumber","findEntryInArray","calculateActiveTickIndex","getMainColorOfGraphicItem","getBarSizeList","getBarPosition","appendOffsetOfLegend","getLegendProps","combineEventHandlers","getTicksOfAxis","getCoordinatesOfGrid","getStackedDataOfItem","parseErrorBarsOfAxis","getBandSizeOfAxis","getStackGroupsByAxisId","isCategoricalAxis","getDomainOfItemsWithSameAxis","getDomainOfStackGroups","getDomainOfDataByKey","parseSpecifiedDomain","parseDomainOfCategoryAxis","getTooltipItem","detectReferenceElementsDomain","inRangeOfSector","polarToCartesian","shallowEqual","eventCenter","SYNC_EVENT","adaptEventHandlers","AccessibilityManager","ORIENT_MAP","xAxis","yAxis","originCoordinate","x","y","isFinit","isFinite","defer","requestAnimationFrame","setImmediate","setTimeout","deferClear","cancelAnimationFrame","clearImmediate","clearTimeout","calculateTooltipPos","rangeObj","layout","angle","radius","getActiveCoordinate","tooltipTicks","activeIndex","entry","find","tick","index","coordinate","_angle","_radius","cx","cy","getDisplayedData","data","_ref","item","graphicalItems","dataStartIndex","dataEndIndex","itemsData","reduce","child","itemData","concat","isDomainSpecifiedByUser","domain","allowDataOverflow","axisType","domainStart","domainEnd","getDefaultDomainByAxisType","getTooltipContent","state","chartData","activeLabel","tooltipAxis","displayedData","hide","payload","dataKey","allowDuplicatedCategory","entries","getTooltipData","rangeData","chartX","chartY","pos","ticks","orderedTooltipTicks","axis","activePayload","activeCoordinate","activeTooltipIndex","getAxisMapByAxes","_ref2","axes","axisIdKey","stackGroups","children","stackOffset","isCategorical","axisMap","_child$props$domain2","_child$props","type","scale","includeHidden","axisId","duplicateDomain","categoricalDomain","defaultDomain","_child$props$domain","childDomain","duplicate","finalDomain","errorBarsDomain","hasStack","axisDomain","isDomainValid","every","originalDomain","getAxisMapByItems","_ref3","Axis","defaultProps","orientation","getAxisMap","_ref4","_ref4$axisType","AxisComp","tooltipTicksGenerator","tooltipAxisBandSize","createDefaultState","_brushItem$props","_brushItem$props2","defaultShowTooltip","brushItem","startIndex","endIndex","isTooltipActive","hasGraphicalBarItem","some","getAxisNameByLayout","numericAxisName","cateAxisName","calculateOffset","_ref5","prevLegendBBox","_ref5$xAxisMap","xAxisMap","_ref5$yAxisMap","yAxisMap","width","height","margin","legendItem","offsetH","id","mirror","left","right","offsetV","top","bottom","offset","brushBottom","generateCategoricalChart","_ref6","_class","chartName","GraphicalChild","_ref6$defaultTooltipE","defaultTooltipEventType","_ref6$validateTooltip","validateTooltipEventTypes","axisComponents","legendContent","formatAxisMap","getFormatItems","currentState","updateId","barSize","barGap","barCategoryGap","globalMaxBarSize","maxBarSize","_getAxisNameByLayout","hasBar","sizeList","formattedItems","_item$props","childMaxBarSize","numericAxisId","cateAxisId","axisObj","_objectSpread6","cateAxis","cateTicks","stackedData","itemIsBar","bandSize","barPosition","_ref7","_getBandSizeOfAxis","barBandSize","map","position","composedFn","getComposedData","_objectSpread7","childIndex","updateStateOfAxisMapsOffsetAndStackGroups","_ref8","prevState","reverseStackOrder","_getAxisNameByLayout2","legendBBox","replace","cateAxisMap","ticksObj","formattedGraphicalItems","_Component","CategoricalChartWrapper","_super","_props","_this","deferId","box","_this$state","setState","cId","chartId","syncId","uniqueChartId","clearDeferId","applySyncEvent","_ref9","triggerSyncEvent","onMouseEnter","mouse","getMouseInfo","_nextState","onMouseMove","nextState","el","activeItem","tooltipPayload","tooltipPosition","persist","triggeredAfterMouseMove","onMouseLeave","cancelThrottledTriggerAfterMouseMove","eventName","event","changedTouches","handler","onClick","_nextState2","onMouseDown","_nextState3","onMouseUp","_nextState4","handleMouseMove","handleMouseDown","handleMouseUp","_ref10","viewBox","_ref11","element","_this$state2","tooltipEventType","getTooltipEventType","cursor","restProps","cursorComp","getCursorRectangle","_this$getCursorPoints","getCursorPoints","startAngle","endAngle","innerRadius","outerRadius","points","cursorProps","stroke","pointerEvents","payloadIndex","className","displayName","axisOption","xAxisId","renderAxis","yAxisId","_this$state3","_this$props","yAxisWithFiniteDomain","chartWidth","chartHeight","verticalCoordinatesGenerator","horizontalCoordinatesGenerator","_element$props","radialLines","polarAngles","polarRadius","_this$state4","radiusAxisMap","angleAxisMap","radiusAxis","angleAxis","_this$props2","legendWidth","otherProps","ref","legend","legendInstance","onBBoxUpdate","handleLegendBBoxUpdate","tooltipItem","_this$state5","active","label","_this$props3","_this$state6","onChange","handleBrushChange","_assertThisInitialize","clipPathId","_this$state7","_element$props2","_ref12","activePoint","basePoint","isRange","_item$item$props","activeDot","dotProps","r","fill","strokeWidth","renderActiveDot","filterFormatItem","_this$state8","_item$props2","baseLine","_item$item$props2","hasActive","itemEvents","trigger","handleItemMouseEnter","onCLick","handleItemMouseLeave","graphicalItem","findWithPayload","specifiedKey","renderActivePoints","throttleDelay","componentDidMount","_this$props$margin$le","_this$props$margin$to","addListener","accessibilityManager","setDetails","container","coordinateList","mouseHandlerCallback","getSnapshotBeforeUpdate","prevProps","accessibilityLayer","_this$props$margin$le2","_this$props$margin$to2","componentDidUpdate","removeListener","componentWillUnmount","cancel","shared","eventType","containerOffset","inRange","_this$state9","xScale","yScale","xValue","invert","yValue","toolTipData","_this$state10","halfSize","_this$state11","x1","y1","x2","y2","innerPoint","outerPoint","_cx","_cy","startPoint","endPoint","isInRange","_this$state12","parseEventsOfWrapper","tooltipEvents","handleClick","handleMouseEnter","handleMouseLeave","onTouchMove","handleTouchMove","onTouchStart","handleTouchStart","onTouchEnd","handleTouchEnd","outerEvents","handleOuterEvent","on","handleReceiveSyncEvent","setMaxListeners","_maxListeners","emit","_this$props4","syncMethod","_this$state13","validateChartX","Math","min","validateChartY","axisOptions","_this$props5","ticksGenerator","axesTicksGenerator","renderClipPath","_this$state$offset","getXScales","_ref13","_ref14","axisProps","getYScales","_ref15","_ref16","getXScaleByAxisId","_this$state$xAxisMap","_this$state$xAxisMap$","getYScaleByAxisId","_this$state$yAxisMap","_this$state$yAxisMap$","getItemByXY","chartXY","itemDisplayName","activeBarItem","_activeBarItem","render","_this2","_this$props6","style","compact","title","desc","others","attrs","CartesianGrid","renderGrid","once","ReferenceArea","renderReferenceElement","ReferenceLine","ReferenceDot","XAxis","renderXAxis","YAxis","renderYAxis","renderBrush","Bar","renderGraphicChild","Line","Area","Radar","RadialBar","Scatter","Pie","Funnel","renderCursor","PolarGrid","renderPolarGrid","PolarAngleAxis","renderPolarAxis","PolarRadiusAxis","Customized","renderCustomized","_2","_img","tabIndex","role","onKeyDown","keyboardEvent","onFocus","focus","events","node","renderLegend","renderTooltip","nextProps","defaultState","prevData","prevWidth","prevHeight","prevLayout","prevStackOffset","prevMargin","prevChildren","_defaultState","keepFromPrevState","updatesToState","newState","hasGlobalData","newUpdateId","option","dot"],"mappings":"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","sourcesContent":["import _every from \"lodash/every\";\nimport _find from \"lodash/find\";\nimport _isFunction from \"lodash/isFunction\";\nimport _throttle from \"lodash/throttle\";\nimport _sortBy from \"lodash/sortBy\";\nimport _get from \"lodash/get\";\nimport _range from \"lodash/range\";\nimport _isNil from \"lodash/isNil\";\nimport _isBoolean from \"lodash/isBoolean\";\nimport _isArray from \"lodash/isArray\";\nvar _excluded = [\"item\"],\n  _excluded2 = [\"children\", \"className\", \"width\", \"height\", \"style\", \"compact\", \"title\", \"desc\"];\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport React, { Component, cloneElement, isValidElement, createElement } from 'react';\nimport classNames from 'classnames';\nimport { getTicks } from '../cartesian/getTicks';\nimport { Surface } from '../container/Surface';\nimport { Layer } from '../container/Layer';\nimport { Tooltip } from '../component/Tooltip';\nimport { Legend } from '../component/Legend';\nimport { Curve } from '../shape/Curve';\nimport { Cross } from '../shape/Cross';\nimport { Sector } from '../shape/Sector';\nimport { Dot } from '../shape/Dot';\nimport { isInRectangle, Rectangle } from '../shape/Rectangle';\nimport { findAllByType, findChildByType, getDisplayName, parseChildIndex, validateWidthHeight, isChildrenEqual, renderByOrder, getReactEventByType, filterProps } from '../util/ReactUtils';\nimport { CartesianAxis } from '../cartesian/CartesianAxis';\nimport { Brush } from '../cartesian/Brush';\nimport { getOffset, calculateChartCoordinate } from '../util/DOMUtils';\nimport { getAnyElementOfObject, hasDuplicate, uniqueId, isNumber, findEntryInArray } from '../util/DataUtils';\nimport { calculateActiveTickIndex, getMainColorOfGraphicItem, getBarSizeList, getBarPosition, appendOffsetOfLegend, getLegendProps, combineEventHandlers, getTicksOfAxis, getCoordinatesOfGrid, getStackedDataOfItem, parseErrorBarsOfAxis, getBandSizeOfAxis, getStackGroupsByAxisId, isCategoricalAxis, getDomainOfItemsWithSameAxis, getDomainOfStackGroups, getDomainOfDataByKey, parseSpecifiedDomain, parseDomainOfCategoryAxis, getTooltipItem } from '../util/ChartUtils';\nimport { detectReferenceElementsDomain } from '../util/DetectReferenceElementsDomain';\nimport { inRangeOfSector, polarToCartesian } from '../util/PolarUtils';\nimport { shallowEqual } from '../util/ShallowEqual';\nimport { eventCenter, SYNC_EVENT } from '../util/Events';\nimport { adaptEventHandlers } from '../util/types';\nimport { AccessibilityManager } from './AccessibilityManager';\nvar ORIENT_MAP = {\n  xAxis: ['bottom', 'top'],\n  yAxis: ['left', 'right']\n};\nvar originCoordinate = {\n  x: 0,\n  y: 0\n};\n\n// use legacy isFinite only if there is a problem (aka IE)\n// eslint-disable-next-line no-restricted-globals\nvar isFinit = Number.isFinite ? Number.isFinite : isFinite;\nvar defer =\n// eslint-disable-next-line no-nested-ternary\ntypeof requestAnimationFrame === 'function' ? requestAnimationFrame : typeof setImmediate === 'function' ? setImmediate : setTimeout;\nvar deferClear =\n// eslint-disable-next-line no-nested-ternary\ntypeof cancelAnimationFrame === 'function' ? cancelAnimationFrame : typeof clearImmediate === 'function' ? clearImmediate : clearTimeout;\nvar calculateTooltipPos = function calculateTooltipPos(rangeObj, layout) {\n  if (layout === 'horizontal') {\n    return rangeObj.x;\n  }\n  if (layout === 'vertical') {\n    return rangeObj.y;\n  }\n  if (layout === 'centric') {\n    return rangeObj.angle;\n  }\n  return rangeObj.radius;\n};\nvar getActiveCoordinate = function getActiveCoordinate(layout, tooltipTicks, activeIndex, rangeObj) {\n  var entry = tooltipTicks.find(function (tick) {\n    return tick && tick.index === activeIndex;\n  });\n  if (entry) {\n    if (layout === 'horizontal') {\n      return {\n        x: entry.coordinate,\n        y: rangeObj.y\n      };\n    }\n    if (layout === 'vertical') {\n      return {\n        x: rangeObj.x,\n        y: entry.coordinate\n      };\n    }\n    if (layout === 'centric') {\n      var _angle = entry.coordinate;\n      var _radius = rangeObj.radius;\n      return _objectSpread(_objectSpread(_objectSpread({}, rangeObj), polarToCartesian(rangeObj.cx, rangeObj.cy, _radius, _angle)), {}, {\n        angle: _angle,\n        radius: _radius\n      });\n    }\n    var radius = entry.coordinate;\n    var angle = rangeObj.angle;\n    return _objectSpread(_objectSpread(_objectSpread({}, rangeObj), polarToCartesian(rangeObj.cx, rangeObj.cy, radius, angle)), {}, {\n      angle: angle,\n      radius: radius\n    });\n  }\n  return originCoordinate;\n};\nvar getDisplayedData = function getDisplayedData(data, _ref, item) {\n  var graphicalItems = _ref.graphicalItems,\n    dataStartIndex = _ref.dataStartIndex,\n    dataEndIndex = _ref.dataEndIndex;\n  var itemsData = (graphicalItems || []).reduce(function (result, child) {\n    var itemData = child.props.data;\n    if (itemData && itemData.length) {\n      return [].concat(_toConsumableArray(result), _toConsumableArray(itemData));\n    }\n    return result;\n  }, []);\n  if (itemsData && itemsData.length > 0) {\n    return itemsData;\n  }\n  if (item && item.props && item.props.data && item.props.data.length > 0) {\n    return item.props.data;\n  }\n  if (data && data.length && isNumber(dataStartIndex) && isNumber(dataEndIndex)) {\n    return data.slice(dataStartIndex, dataEndIndex + 1);\n  }\n  return [];\n};\n\n/**\n * Takes a domain and user props to determine whether he provided the domain via props or if we need to calculate it.\n * @param   {AxisDomain}  domain              The potential domain from props\n * @param   {Boolean}     allowDataOverflow   from props\n * @param   {String}      axisType            from props\n * @returns {Boolean}                         `true` if domain is specified by user\n */\nfunction isDomainSpecifiedByUser(domain, allowDataOverflow, axisType) {\n  if (axisType === 'number' && allowDataOverflow === true && Array.isArray(domain)) {\n    var domainStart = domain === null || domain === void 0 ? void 0 : domain[0];\n    var domainEnd = domain === null || domain === void 0 ? void 0 : domain[1];\n\n    /*\n     * The `isNumber` check is needed because the user could also provide strings like \"dataMin\" via the domain props.\n     * In such case, we have to compute the domain from the data.\n     */\n    if (!!domainStart && !!domainEnd && isNumber(domainStart) && isNumber(domainEnd)) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction getDefaultDomainByAxisType(axisType) {\n  return axisType === 'number' ? [0, 'auto'] : undefined;\n}\n\n/**\n * Get the content to be displayed in the tooltip\n * @param  {Object} state          Current state\n * @param  {Array}  chartData      The data defined in chart\n * @param  {Number} activeIndex    Active index of data\n * @param  {String} activeLabel    Active label of data\n * @return {Array}                 The content of tooltip\n */\nvar getTooltipContent = function getTooltipContent(state, chartData, activeIndex, activeLabel) {\n  var graphicalItems = state.graphicalItems,\n    tooltipAxis = state.tooltipAxis;\n  var displayedData = getDisplayedData(chartData, state);\n  if (activeIndex < 0 || !graphicalItems || !graphicalItems.length || activeIndex >= displayedData.length) {\n    return null;\n  }\n  // get data by activeIndex when the axis don't allow duplicated category\n  return graphicalItems.reduce(function (result, child) {\n    var hide = child.props.hide;\n    if (hide) {\n      return result;\n    }\n    var data = child.props.data;\n    var payload;\n    if (tooltipAxis.dataKey && !tooltipAxis.allowDuplicatedCategory) {\n      // graphic child has data props\n      var entries = data === undefined ? displayedData : data;\n      payload = findEntryInArray(entries, tooltipAxis.dataKey, activeLabel);\n    } else {\n      payload = data && data[activeIndex] || displayedData[activeIndex];\n    }\n    if (!payload) {\n      return result;\n    }\n    return [].concat(_toConsumableArray(result), [getTooltipItem(child, payload)]);\n  }, []);\n};\n\n/**\n * Returns tooltip data based on a mouse position (as a parameter or in state)\n * @param  {Object} state     current state\n * @param  {Array}  chartData the data defined in chart\n * @param  {String} layout     The layout type of chart\n * @param  {Object} rangeObj  { x, y } coordinates\n * @return {Object}           Tooltip data data\n */\nvar getTooltipData = function getTooltipData(state, chartData, layout, rangeObj) {\n  var rangeData = rangeObj || {\n    x: state.chartX,\n    y: state.chartY\n  };\n  var pos = calculateTooltipPos(rangeData, layout);\n  var ticks = state.orderedTooltipTicks,\n    axis = state.tooltipAxis,\n    tooltipTicks = state.tooltipTicks;\n  var activeIndex = calculateActiveTickIndex(pos, ticks, tooltipTicks, axis);\n  if (activeIndex >= 0 && tooltipTicks) {\n    var activeLabel = tooltipTicks[activeIndex] && tooltipTicks[activeIndex].value;\n    var activePayload = getTooltipContent(state, chartData, activeIndex, activeLabel);\n    var activeCoordinate = getActiveCoordinate(layout, ticks, activeIndex, rangeData);\n    return {\n      activeTooltipIndex: activeIndex,\n      activeLabel: activeLabel,\n      activePayload: activePayload,\n      activeCoordinate: activeCoordinate\n    };\n  }\n  return null;\n};\n\n/**\n * Get the configuration of axis by the options of axis instance\n * @param  {Object} props         Latest props\n * @param {Array}  axes           The instance of axes\n * @param  {Array} graphicalItems The instances of item\n * @param  {String} axisType      The type of axis, xAxis - x-axis, yAxis - y-axis\n * @param  {String} axisIdKey     The unique id of an axis\n * @param  {Object} stackGroups   The items grouped by axisId and stackId\n * @param {Number} dataStartIndex The start index of the data series when a brush is applied\n * @param {Number} dataEndIndex   The end index of the data series when a brush is applied\n * @return {Object}      Configuration\n */\nexport var getAxisMapByAxes = function getAxisMapByAxes(props, _ref2) {\n  var axes = _ref2.axes,\n    graphicalItems = _ref2.graphicalItems,\n    axisType = _ref2.axisType,\n    axisIdKey = _ref2.axisIdKey,\n    stackGroups = _ref2.stackGroups,\n    dataStartIndex = _ref2.dataStartIndex,\n    dataEndIndex = _ref2.dataEndIndex;\n  var layout = props.layout,\n    children = props.children,\n    stackOffset = props.stackOffset;\n  var isCategorical = isCategoricalAxis(layout, axisType);\n\n  // Eliminate duplicated axes\n  var axisMap = axes.reduce(function (result, child) {\n    var _child$props$domain2;\n    var _child$props = child.props,\n      type = _child$props.type,\n      dataKey = _child$props.dataKey,\n      allowDataOverflow = _child$props.allowDataOverflow,\n      allowDuplicatedCategory = _child$props.allowDuplicatedCategory,\n      scale = _child$props.scale,\n      ticks = _child$props.ticks,\n      includeHidden = _child$props.includeHidden;\n    var axisId = child.props[axisIdKey];\n    if (result[axisId]) {\n      return result;\n    }\n    var displayedData = getDisplayedData(props.data, {\n      graphicalItems: graphicalItems.filter(function (item) {\n        return item.props[axisIdKey] === axisId;\n      }),\n      dataStartIndex: dataStartIndex,\n      dataEndIndex: dataEndIndex\n    });\n    var len = displayedData.length;\n    var domain, duplicateDomain, categoricalDomain;\n\n    /*\n     * This is a hack to short-circuit the domain creation here to enhance performance.\n     * Usually, the data is used to determine the domain, but when the user specifies\n     * a domain upfront (via props), there is no need to calculate the domain start and end,\n     * which is very expensive for a larger amount of data.\n     * The only thing that would prohibit short-circuiting is when the user doesn't allow data overflow,\n     * because the axis is supposed to ignore the specified domain that way.\n     */\n    if (isDomainSpecifiedByUser(child.props.domain, allowDataOverflow, type)) {\n      domain = parseSpecifiedDomain(child.props.domain, null, allowDataOverflow);\n      /* The chart can be categorical and have the domain specified in numbers\n       * we still need to calculate the categorical domain\n       * TODO: refactor this more\n       */\n      if (isCategorical && (type === 'number' || scale !== 'auto')) {\n        categoricalDomain = getDomainOfDataByKey(displayedData, dataKey, 'category');\n      }\n    }\n\n    // if the domain is defaulted we need this for `originalDomain` as well\n    var defaultDomain = getDefaultDomainByAxisType(type);\n\n    // we didn't create the domain from user's props above, so we need to calculate it\n    if (!domain || domain.length === 0) {\n      var _child$props$domain;\n      var childDomain = (_child$props$domain = child.props.domain) !== null && _child$props$domain !== void 0 ? _child$props$domain : defaultDomain;\n      if (dataKey) {\n        // has dataKey in <Axis />\n        domain = getDomainOfDataByKey(displayedData, dataKey, type);\n        if (type === 'category' && isCategorical) {\n          // the field type is category data and this axis is categorical axis\n          var duplicate = hasDuplicate(domain);\n          if (allowDuplicatedCategory && duplicate) {\n            duplicateDomain = domain;\n            // When category axis has duplicated text, serial numbers are used to generate scale\n            domain = _range(0, len);\n          } else if (!allowDuplicatedCategory) {\n            // remove duplicated category\n            domain = parseDomainOfCategoryAxis(childDomain, domain, child).reduce(function (finalDomain, entry) {\n              return finalDomain.indexOf(entry) >= 0 ? finalDomain : [].concat(_toConsumableArray(finalDomain), [entry]);\n            }, []);\n          }\n        } else if (type === 'category') {\n          // the field type is category data and this axis is numerical axis\n          if (!allowDuplicatedCategory) {\n            domain = parseDomainOfCategoryAxis(childDomain, domain, child).reduce(function (finalDomain, entry) {\n              return finalDomain.indexOf(entry) >= 0 || entry === '' || _isNil(entry) ? finalDomain : [].concat(_toConsumableArray(finalDomain), [entry]);\n            }, []);\n          } else {\n            // eliminate undefined or null or empty string\n            domain = domain.filter(function (entry) {\n              return entry !== '' && !_isNil(entry);\n            });\n          }\n        } else if (type === 'number') {\n          // the field type is numerical\n          var errorBarsDomain = parseErrorBarsOfAxis(displayedData, graphicalItems.filter(function (item) {\n            return item.props[axisIdKey] === axisId && (includeHidden || !item.props.hide);\n          }), dataKey, axisType, layout);\n          if (errorBarsDomain) {\n            domain = errorBarsDomain;\n          }\n        }\n        if (isCategorical && (type === 'number' || scale !== 'auto')) {\n          categoricalDomain = getDomainOfDataByKey(displayedData, dataKey, 'category');\n        }\n      } else if (isCategorical) {\n        // the axis is a categorical axis\n        domain = _range(0, len);\n      } else if (stackGroups && stackGroups[axisId] && stackGroups[axisId].hasStack && type === 'number') {\n        // when stackOffset is 'expand', the domain may be calculated as [0, 1.000000000002]\n        domain = stackOffset === 'expand' ? [0, 1] : getDomainOfStackGroups(stackGroups[axisId].stackGroups, dataStartIndex, dataEndIndex);\n      } else {\n        domain = getDomainOfItemsWithSameAxis(displayedData, graphicalItems.filter(function (item) {\n          return item.props[axisIdKey] === axisId && (includeHidden || !item.props.hide);\n        }), type, layout, true);\n      }\n      if (type === 'number') {\n        // To detect wether there is any reference lines whose props alwaysShow is true\n        domain = detectReferenceElementsDomain(children, domain, axisId, axisType, ticks);\n        if (childDomain) {\n          domain = parseSpecifiedDomain(childDomain, domain, allowDataOverflow);\n        }\n      } else if (type === 'category' && childDomain) {\n        var axisDomain = childDomain;\n        var isDomainValid = domain.every(function (entry) {\n          return axisDomain.indexOf(entry) >= 0;\n        });\n        if (isDomainValid) {\n          domain = axisDomain;\n        }\n      }\n    }\n    return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, axisId, _objectSpread(_objectSpread({}, child.props), {}, {\n      axisType: axisType,\n      domain: domain,\n      categoricalDomain: categoricalDomain,\n      duplicateDomain: duplicateDomain,\n      originalDomain: (_child$props$domain2 = child.props.domain) !== null && _child$props$domain2 !== void 0 ? _child$props$domain2 : defaultDomain,\n      isCategorical: isCategorical,\n      layout: layout\n    })));\n  }, {});\n  return axisMap;\n};\n\n/**\n * Get the configuration of axis by the options of item,\n * this kind of axis does not display in chart\n * @param  {Object} props         Latest props\n * @param  {Array} graphicalItems The instances of item\n * @param  {ReactElement} Axis    Axis Component\n * @param  {String} axisType      The type of axis, xAxis - x-axis, yAxis - y-axis\n * @param  {String} axisIdKey     The unique id of an axis\n * @param  {Object} stackGroups   The items grouped by axisId and stackId\n * @param {Number} dataStartIndex The start index of the data series when a brush is applied\n * @param {Number} dataEndIndex   The end index of the data series when a brush is applied\n * @return {Object}               Configuration\n */\nvar getAxisMapByItems = function getAxisMapByItems(props, _ref3) {\n  var graphicalItems = _ref3.graphicalItems,\n    Axis = _ref3.Axis,\n    axisType = _ref3.axisType,\n    axisIdKey = _ref3.axisIdKey,\n    stackGroups = _ref3.stackGroups,\n    dataStartIndex = _ref3.dataStartIndex,\n    dataEndIndex = _ref3.dataEndIndex;\n  var layout = props.layout,\n    children = props.children;\n  var displayedData = getDisplayedData(props.data, {\n    graphicalItems: graphicalItems,\n    dataStartIndex: dataStartIndex,\n    dataEndIndex: dataEndIndex\n  });\n  var len = displayedData.length;\n  var isCategorical = isCategoricalAxis(layout, axisType);\n  var index = -1;\n\n  // The default type of x-axis is category axis,\n  // The default contents of x-axis is the serial numbers of data\n  // The default type of y-axis is number axis\n  // The default contents of y-axis is the domain of data\n  var axisMap = graphicalItems.reduce(function (result, child) {\n    var axisId = child.props[axisIdKey];\n    var originalDomain = getDefaultDomainByAxisType('number');\n    if (!result[axisId]) {\n      index++;\n      var domain;\n      if (isCategorical) {\n        domain = _range(0, len);\n      } else if (stackGroups && stackGroups[axisId] && stackGroups[axisId].hasStack) {\n        domain = getDomainOfStackGroups(stackGroups[axisId].stackGroups, dataStartIndex, dataEndIndex);\n        domain = detectReferenceElementsDomain(children, domain, axisId, axisType);\n      } else {\n        domain = parseSpecifiedDomain(originalDomain, getDomainOfItemsWithSameAxis(displayedData, graphicalItems.filter(function (item) {\n          return item.props[axisIdKey] === axisId && !item.props.hide;\n        }), 'number', layout), Axis.defaultProps.allowDataOverflow);\n        domain = detectReferenceElementsDomain(children, domain, axisId, axisType);\n      }\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, axisId, _objectSpread(_objectSpread({\n        axisType: axisType\n      }, Axis.defaultProps), {}, {\n        hide: true,\n        orientation: _get(ORIENT_MAP, \"\".concat(axisType, \".\").concat(index % 2), null),\n        domain: domain,\n        originalDomain: originalDomain,\n        isCategorical: isCategorical,\n        layout: layout\n        // specify scale when no Axis\n        // scale: isCategorical ? 'band' : 'linear',\n      })));\n    }\n\n    return result;\n  }, {});\n  return axisMap;\n};\n\n/**\n * Get the configuration of all x-axis or y-axis\n * @param  {Object} props          Latest props\n * @param  {String} axisType       The type of axis\n * @param  {Array}  graphicalItems The instances of item\n * @param  {Object} stackGroups    The items grouped by axisId and stackId\n * @param {Number} dataStartIndex  The start index of the data series when a brush is applied\n * @param {Number} dataEndIndex    The end index of the data series when a brush is applied\n * @return {Object}          Configuration\n */\nvar getAxisMap = function getAxisMap(props, _ref4) {\n  var _ref4$axisType = _ref4.axisType,\n    axisType = _ref4$axisType === void 0 ? 'xAxis' : _ref4$axisType,\n    AxisComp = _ref4.AxisComp,\n    graphicalItems = _ref4.graphicalItems,\n    stackGroups = _ref4.stackGroups,\n    dataStartIndex = _ref4.dataStartIndex,\n    dataEndIndex = _ref4.dataEndIndex;\n  var children = props.children;\n  var axisIdKey = \"\".concat(axisType, \"Id\");\n  // Get all the instance of Axis\n  var axes = findAllByType(children, AxisComp);\n  var axisMap = {};\n  if (axes && axes.length) {\n    axisMap = getAxisMapByAxes(props, {\n      axes: axes,\n      graphicalItems: graphicalItems,\n      axisType: axisType,\n      axisIdKey: axisIdKey,\n      stackGroups: stackGroups,\n      dataStartIndex: dataStartIndex,\n      dataEndIndex: dataEndIndex\n    });\n  } else if (graphicalItems && graphicalItems.length) {\n    axisMap = getAxisMapByItems(props, {\n      Axis: AxisComp,\n      graphicalItems: graphicalItems,\n      axisType: axisType,\n      axisIdKey: axisIdKey,\n      stackGroups: stackGroups,\n      dataStartIndex: dataStartIndex,\n      dataEndIndex: dataEndIndex\n    });\n  }\n  return axisMap;\n};\nvar tooltipTicksGenerator = function tooltipTicksGenerator(axisMap) {\n  var axis = getAnyElementOfObject(axisMap);\n  var tooltipTicks = getTicksOfAxis(axis, false, true);\n  return {\n    tooltipTicks: tooltipTicks,\n    orderedTooltipTicks: _sortBy(tooltipTicks, function (o) {\n      return o.coordinate;\n    }),\n    tooltipAxis: axis,\n    tooltipAxisBandSize: getBandSizeOfAxis(axis, tooltipTicks)\n  };\n};\n\n/**\n * Returns default, reset state for the categorical chart.\n * @param {Object} props Props object to use when creating the default state\n * @return {Object} Whole new state\n */\nvar createDefaultState = function createDefaultState(props) {\n  var _brushItem$props, _brushItem$props2;\n  var children = props.children,\n    defaultShowTooltip = props.defaultShowTooltip;\n  var brushItem = findChildByType(children, Brush);\n  var startIndex = brushItem && brushItem.props && brushItem.props.startIndex || 0;\n  var endIndex = (brushItem === null || brushItem === void 0 ? void 0 : (_brushItem$props = brushItem.props) === null || _brushItem$props === void 0 ? void 0 : _brushItem$props.endIndex) !== undefined ? brushItem === null || brushItem === void 0 ? void 0 : (_brushItem$props2 = brushItem.props) === null || _brushItem$props2 === void 0 ? void 0 : _brushItem$props2.endIndex : props.data && props.data.length - 1 || 0;\n  return {\n    chartX: 0,\n    chartY: 0,\n    dataStartIndex: startIndex,\n    dataEndIndex: endIndex,\n    activeTooltipIndex: -1,\n    isTooltipActive: !_isNil(defaultShowTooltip) ? defaultShowTooltip : false\n  };\n};\nvar hasGraphicalBarItem = function hasGraphicalBarItem(graphicalItems) {\n  if (!graphicalItems || !graphicalItems.length) {\n    return false;\n  }\n  return graphicalItems.some(function (item) {\n    var name = getDisplayName(item && item.type);\n    return name && name.indexOf('Bar') >= 0;\n  });\n};\nvar getAxisNameByLayout = function getAxisNameByLayout(layout) {\n  if (layout === 'horizontal') {\n    return {\n      numericAxisName: 'yAxis',\n      cateAxisName: 'xAxis'\n    };\n  }\n  if (layout === 'vertical') {\n    return {\n      numericAxisName: 'xAxis',\n      cateAxisName: 'yAxis'\n    };\n  }\n  if (layout === 'centric') {\n    return {\n      numericAxisName: 'radiusAxis',\n      cateAxisName: 'angleAxis'\n    };\n  }\n  return {\n    numericAxisName: 'angleAxis',\n    cateAxisName: 'radiusAxis'\n  };\n};\n\n/**\n * Calculate the offset of main part in the svg element\n * @param  {Object} props          Latest props\n * graphicalItems The instances of item\n * xAxisMap       The configuration of x-axis\n * yAxisMap       The configuration of y-axis\n * @param  {Object} prevLegendBBox          the boundary box of legend\n * @return {Object} The offset of main part in the svg element\n */\nvar calculateOffset = function calculateOffset(_ref5, prevLegendBBox) {\n  var props = _ref5.props,\n    graphicalItems = _ref5.graphicalItems,\n    _ref5$xAxisMap = _ref5.xAxisMap,\n    xAxisMap = _ref5$xAxisMap === void 0 ? {} : _ref5$xAxisMap,\n    _ref5$yAxisMap = _ref5.yAxisMap,\n    yAxisMap = _ref5$yAxisMap === void 0 ? {} : _ref5$yAxisMap;\n  var width = props.width,\n    height = props.height,\n    children = props.children;\n  var margin = props.margin || {};\n  var brushItem = findChildByType(children, Brush);\n  var legendItem = findChildByType(children, Legend);\n  var offsetH = Object.keys(yAxisMap).reduce(function (result, id) {\n    var entry = yAxisMap[id];\n    var orientation = entry.orientation;\n    if (!entry.mirror && !entry.hide) {\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, orientation, result[orientation] + entry.width));\n    }\n    return result;\n  }, {\n    left: margin.left || 0,\n    right: margin.right || 0\n  });\n  var offsetV = Object.keys(xAxisMap).reduce(function (result, id) {\n    var entry = xAxisMap[id];\n    var orientation = entry.orientation;\n    if (!entry.mirror && !entry.hide) {\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, orientation, _get(result, \"\".concat(orientation)) + entry.height));\n    }\n    return result;\n  }, {\n    top: margin.top || 0,\n    bottom: margin.bottom || 0\n  });\n  var offset = _objectSpread(_objectSpread({}, offsetV), offsetH);\n  var brushBottom = offset.bottom;\n  if (brushItem) {\n    offset.bottom += brushItem.props.height || Brush.defaultProps.height;\n  }\n  if (legendItem && prevLegendBBox) {\n    offset = appendOffsetOfLegend(offset, graphicalItems, props, prevLegendBBox);\n  }\n  return _objectSpread(_objectSpread({\n    brushBottom: brushBottom\n  }, offset), {}, {\n    width: width - offset.left - offset.right,\n    height: height - offset.top - offset.bottom\n  });\n};\nexport var generateCategoricalChart = function generateCategoricalChart(_ref6) {\n  var _class;\n  var chartName = _ref6.chartName,\n    GraphicalChild = _ref6.GraphicalChild,\n    _ref6$defaultTooltipE = _ref6.defaultTooltipEventType,\n    defaultTooltipEventType = _ref6$defaultTooltipE === void 0 ? 'axis' : _ref6$defaultTooltipE,\n    _ref6$validateTooltip = _ref6.validateTooltipEventTypes,\n    validateTooltipEventTypes = _ref6$validateTooltip === void 0 ? ['axis'] : _ref6$validateTooltip,\n    axisComponents = _ref6.axisComponents,\n    legendContent = _ref6.legendContent,\n    formatAxisMap = _ref6.formatAxisMap,\n    defaultProps = _ref6.defaultProps;\n  var getFormatItems = function getFormatItems(props, currentState) {\n    var graphicalItems = currentState.graphicalItems,\n      stackGroups = currentState.stackGroups,\n      offset = currentState.offset,\n      updateId = currentState.updateId,\n      dataStartIndex = currentState.dataStartIndex,\n      dataEndIndex = currentState.dataEndIndex;\n    var barSize = props.barSize,\n      layout = props.layout,\n      barGap = props.barGap,\n      barCategoryGap = props.barCategoryGap,\n      globalMaxBarSize = props.maxBarSize;\n    var _getAxisNameByLayout = getAxisNameByLayout(layout),\n      numericAxisName = _getAxisNameByLayout.numericAxisName,\n      cateAxisName = _getAxisNameByLayout.cateAxisName;\n    var hasBar = hasGraphicalBarItem(graphicalItems);\n    var sizeList = hasBar && getBarSizeList({\n      barSize: barSize,\n      stackGroups: stackGroups\n    });\n    var formattedItems = [];\n    graphicalItems.forEach(function (item, index) {\n      var displayedData = getDisplayedData(props.data, {\n        dataStartIndex: dataStartIndex,\n        dataEndIndex: dataEndIndex\n      }, item);\n      var _item$props = item.props,\n        dataKey = _item$props.dataKey,\n        childMaxBarSize = _item$props.maxBarSize;\n      var numericAxisId = item.props[\"\".concat(numericAxisName, \"Id\")];\n      var cateAxisId = item.props[\"\".concat(cateAxisName, \"Id\")];\n      var axisObj = axisComponents.reduce(function (result, entry) {\n        var _objectSpread6;\n        var axisMap = currentState[\"\".concat(entry.axisType, \"Map\")];\n        var id = item.props[\"\".concat(entry.axisType, \"Id\")];\n        var axis = axisMap && axisMap[id];\n        return _objectSpread(_objectSpread({}, result), {}, (_objectSpread6 = {}, _defineProperty(_objectSpread6, entry.axisType, axis), _defineProperty(_objectSpread6, \"\".concat(entry.axisType, \"Ticks\"), getTicksOfAxis(axis)), _objectSpread6));\n      }, {});\n      var cateAxis = axisObj[cateAxisName];\n      var cateTicks = axisObj[\"\".concat(cateAxisName, \"Ticks\")];\n      var stackedData = stackGroups && stackGroups[numericAxisId] && stackGroups[numericAxisId].hasStack && getStackedDataOfItem(item, stackGroups[numericAxisId].stackGroups);\n      var itemIsBar = getDisplayName(item.type).indexOf('Bar') >= 0;\n      var bandSize = getBandSizeOfAxis(cateAxis, cateTicks);\n      var barPosition = [];\n      if (itemIsBar) {\n        var _ref7, _getBandSizeOfAxis;\n        // 如果是bar，计算bar的位置\n        var maxBarSize = _isNil(childMaxBarSize) ? globalMaxBarSize : childMaxBarSize;\n        var barBandSize = (_ref7 = (_getBandSizeOfAxis = getBandSizeOfAxis(cateAxis, cateTicks, true)) !== null && _getBandSizeOfAxis !== void 0 ? _getBandSizeOfAxis : maxBarSize) !== null && _ref7 !== void 0 ? _ref7 : 0;\n        barPosition = getBarPosition({\n          barGap: barGap,\n          barCategoryGap: barCategoryGap,\n          bandSize: barBandSize !== bandSize ? barBandSize : bandSize,\n          sizeList: sizeList[cateAxisId],\n          maxBarSize: maxBarSize\n        });\n        if (barBandSize !== bandSize) {\n          barPosition = barPosition.map(function (pos) {\n            return _objectSpread(_objectSpread({}, pos), {}, {\n              position: _objectSpread(_objectSpread({}, pos.position), {}, {\n                offset: pos.position.offset - barBandSize / 2\n              })\n            });\n          });\n        }\n      }\n      var composedFn = item && item.type && item.type.getComposedData;\n      if (composedFn) {\n        var _objectSpread7;\n        formattedItems.push({\n          props: _objectSpread(_objectSpread({}, composedFn(_objectSpread(_objectSpread({}, axisObj), {}, {\n            displayedData: displayedData,\n            props: props,\n            dataKey: dataKey,\n            item: item,\n            bandSize: bandSize,\n            barPosition: barPosition,\n            offset: offset,\n            stackedData: stackedData,\n            layout: layout,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          }))), {}, (_objectSpread7 = {\n            key: item.key || \"item-\".concat(index)\n          }, _defineProperty(_objectSpread7, numericAxisName, axisObj[numericAxisName]), _defineProperty(_objectSpread7, cateAxisName, axisObj[cateAxisName]), _defineProperty(_objectSpread7, \"animationId\", updateId), _objectSpread7)),\n          childIndex: parseChildIndex(item, props.children),\n          item: item\n        });\n      }\n    });\n    return formattedItems;\n  };\n\n  /**\n   * The AxisMaps are expensive to render on large data sets\n   * so provide the ability to store them in state and only update them when necessary\n   * they are dependent upon the start and end index of\n   * the brush so it's important that this method is called _after_\n   * the state is updated with any new start/end indices\n   *\n   * @param {Object} props          The props object to be used for updating the axismaps\n   * dataStartIndex: The start index of the data series when a brush is applied\n   * dataEndIndex: The end index of the data series when a brush is applied\n   * updateId: The update id\n   * @param {Object} prevState      Prev state\n   * @return {Object} state New state to set\n   */\n  var updateStateOfAxisMapsOffsetAndStackGroups = function updateStateOfAxisMapsOffsetAndStackGroups(_ref8, prevState) {\n    var props = _ref8.props,\n      dataStartIndex = _ref8.dataStartIndex,\n      dataEndIndex = _ref8.dataEndIndex,\n      updateId = _ref8.updateId;\n    if (!validateWidthHeight({\n      props: props\n    })) {\n      return null;\n    }\n    var children = props.children,\n      layout = props.layout,\n      stackOffset = props.stackOffset,\n      data = props.data,\n      reverseStackOrder = props.reverseStackOrder;\n    var _getAxisNameByLayout2 = getAxisNameByLayout(layout),\n      numericAxisName = _getAxisNameByLayout2.numericAxisName,\n      cateAxisName = _getAxisNameByLayout2.cateAxisName;\n    var graphicalItems = findAllByType(children, GraphicalChild);\n    var stackGroups = getStackGroupsByAxisId(data, graphicalItems, \"\".concat(numericAxisName, \"Id\"), \"\".concat(cateAxisName, \"Id\"), stackOffset, reverseStackOrder);\n    var axisObj = axisComponents.reduce(function (result, entry) {\n      var name = \"\".concat(entry.axisType, \"Map\");\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, name, getAxisMap(props, _objectSpread(_objectSpread({}, entry), {}, {\n        graphicalItems: graphicalItems,\n        stackGroups: entry.axisType === numericAxisName && stackGroups,\n        dataStartIndex: dataStartIndex,\n        dataEndIndex: dataEndIndex\n      }))));\n    }, {});\n    var offset = calculateOffset(_objectSpread(_objectSpread({}, axisObj), {}, {\n      props: props,\n      graphicalItems: graphicalItems\n    }), prevState === null || prevState === void 0 ? void 0 : prevState.legendBBox);\n    Object.keys(axisObj).forEach(function (key) {\n      axisObj[key] = formatAxisMap(props, axisObj[key], offset, key.replace('Map', ''), chartName);\n    });\n    var cateAxisMap = axisObj[\"\".concat(cateAxisName, \"Map\")];\n    var ticksObj = tooltipTicksGenerator(cateAxisMap);\n    var formattedGraphicalItems = getFormatItems(props, _objectSpread(_objectSpread({}, axisObj), {}, {\n      dataStartIndex: dataStartIndex,\n      dataEndIndex: dataEndIndex,\n      updateId: updateId,\n      graphicalItems: graphicalItems,\n      stackGroups: stackGroups,\n      offset: offset\n    }));\n    return _objectSpread(_objectSpread({\n      formattedGraphicalItems: formattedGraphicalItems,\n      graphicalItems: graphicalItems,\n      offset: offset,\n      stackGroups: stackGroups\n    }, ticksObj), axisObj);\n  };\n  return _class = /*#__PURE__*/function (_Component) {\n    _inherits(CategoricalChartWrapper, _Component);\n    var _super = _createSuper(CategoricalChartWrapper);\n    function CategoricalChartWrapper(_props) {\n      var _this;\n      _classCallCheck(this, CategoricalChartWrapper);\n      _this = _super.call(this, _props);\n      _defineProperty(_assertThisInitialized(_this), \"accessibilityManager\", new AccessibilityManager());\n      _defineProperty(_assertThisInitialized(_this), \"clearDeferId\", function () {\n        if (!_isNil(_this.deferId) && deferClear) {\n          deferClear(_this.deferId);\n        }\n        _this.deferId = null;\n      });\n      _defineProperty(_assertThisInitialized(_this), \"handleLegendBBoxUpdate\", function (box) {\n        if (box) {\n          var _this$state = _this.state,\n            dataStartIndex = _this$state.dataStartIndex,\n            dataEndIndex = _this$state.dataEndIndex,\n            updateId = _this$state.updateId;\n          _this.setState(_objectSpread({\n            legendBBox: box\n          }, updateStateOfAxisMapsOffsetAndStackGroups({\n            props: _this.props,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex,\n            updateId: updateId\n          }, _objectSpread(_objectSpread({}, _this.state), {}, {\n            legendBBox: box\n          }))));\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"handleReceiveSyncEvent\", function (cId, chartId, data) {\n        var syncId = _this.props.syncId;\n        if (syncId === cId && chartId !== _this.uniqueChartId) {\n          _this.clearDeferId();\n          _this.deferId = defer && defer(_this.applySyncEvent.bind(_assertThisInitialized(_this), data));\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"handleBrushChange\", function (_ref9) {\n        var startIndex = _ref9.startIndex,\n          endIndex = _ref9.endIndex;\n        // Only trigger changes if the extents of the brush have actually changed\n        if (startIndex !== _this.state.dataStartIndex || endIndex !== _this.state.dataEndIndex) {\n          var updateId = _this.state.updateId;\n          _this.setState(function () {\n            return _objectSpread({\n              dataStartIndex: startIndex,\n              dataEndIndex: endIndex\n            }, updateStateOfAxisMapsOffsetAndStackGroups({\n              props: _this.props,\n              dataStartIndex: startIndex,\n              dataEndIndex: endIndex,\n              updateId: updateId\n            }, _this.state));\n          });\n          _this.triggerSyncEvent({\n            dataStartIndex: startIndex,\n            dataEndIndex: endIndex\n          });\n        }\n      });\n      /**\n       * The handler of mouse entering chart\n       * @param  {Object} e              Event object\n       * @return {Null}                  null\n       */\n      _defineProperty(_assertThisInitialized(_this), \"handleMouseEnter\", function (e) {\n        var onMouseEnter = _this.props.onMouseEnter;\n        var mouse = _this.getMouseInfo(e);\n        if (mouse) {\n          var _nextState = _objectSpread(_objectSpread({}, mouse), {}, {\n            isTooltipActive: true\n          });\n          _this.setState(_nextState);\n          _this.triggerSyncEvent(_nextState);\n          if (_isFunction(onMouseEnter)) {\n            onMouseEnter(_nextState, e);\n          }\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"triggeredAfterMouseMove\", function (e) {\n        var onMouseMove = _this.props.onMouseMove;\n        var mouse = _this.getMouseInfo(e);\n        var nextState = mouse ? _objectSpread(_objectSpread({}, mouse), {}, {\n          isTooltipActive: true\n        }) : {\n          isTooltipActive: false\n        };\n        _this.setState(nextState);\n        _this.triggerSyncEvent(nextState);\n        if (_isFunction(onMouseMove)) {\n          onMouseMove(nextState, e);\n        }\n      });\n      /**\n       * The handler of mouse entering a scatter\n       * @param {Object} el The active scatter\n       * @return {Object} no return\n       */\n      _defineProperty(_assertThisInitialized(_this), \"handleItemMouseEnter\", function (el) {\n        _this.setState(function () {\n          return {\n            isTooltipActive: true,\n            activeItem: el,\n            activePayload: el.tooltipPayload,\n            activeCoordinate: el.tooltipPosition || {\n              x: el.cx,\n              y: el.cy\n            }\n          };\n        });\n      });\n      /**\n       * The handler of mouse leaving a scatter\n       * @return {Object} no return\n       */\n      _defineProperty(_assertThisInitialized(_this), \"handleItemMouseLeave\", function () {\n        _this.setState(function () {\n          return {\n            isTooltipActive: false\n          };\n        });\n      });\n      /**\n       * The handler of mouse moving in chart\n       * @param  {Object} e        Event object\n       * @return {Null} no return\n       */\n      _defineProperty(_assertThisInitialized(_this), \"handleMouseMove\", function (e) {\n        if (e && _isFunction(e.persist)) {\n          e.persist();\n        }\n        _this.triggeredAfterMouseMove(e);\n      });\n      /**\n       * The handler if mouse leaving chart\n       * @param {Object} e Event object\n       * @return {Null} no return\n       */\n      _defineProperty(_assertThisInitialized(_this), \"handleMouseLeave\", function (e) {\n        var onMouseLeave = _this.props.onMouseLeave;\n        var nextState = {\n          isTooltipActive: false\n        };\n        _this.setState(nextState);\n        _this.triggerSyncEvent(nextState);\n        if (_isFunction(onMouseLeave)) {\n          onMouseLeave(nextState, e);\n        }\n        _this.cancelThrottledTriggerAfterMouseMove();\n      });\n      _defineProperty(_assertThisInitialized(_this), \"handleOuterEvent\", function (e) {\n        var eventName = getReactEventByType(e);\n        var event = _get(_this.props, \"\".concat(eventName));\n        if (eventName && _isFunction(event)) {\n          var mouse;\n          if (/.*touch.*/i.test(eventName)) {\n            mouse = _this.getMouseInfo(e.changedTouches[0]);\n          } else {\n            mouse = _this.getMouseInfo(e);\n          }\n          var handler = event;\n\n          // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n          // @ts-ignore\n          handler(mouse, e);\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"handleClick\", function (e) {\n        var onClick = _this.props.onClick;\n        var mouse = _this.getMouseInfo(e);\n        if (mouse) {\n          var _nextState2 = _objectSpread(_objectSpread({}, mouse), {}, {\n            isTooltipActive: true\n          });\n          _this.setState(_nextState2);\n          _this.triggerSyncEvent(_nextState2);\n          if (_isFunction(onClick)) {\n            onClick(_nextState2, e);\n          }\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"handleMouseDown\", function (e) {\n        var onMouseDown = _this.props.onMouseDown;\n        if (_isFunction(onMouseDown)) {\n          var _nextState3 = _this.getMouseInfo(e);\n          onMouseDown(_nextState3, e);\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"handleMouseUp\", function (e) {\n        var onMouseUp = _this.props.onMouseUp;\n        if (_isFunction(onMouseUp)) {\n          var _nextState4 = _this.getMouseInfo(e);\n          onMouseUp(_nextState4, e);\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"handleTouchMove\", function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseMove(e.changedTouches[0]);\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"handleTouchStart\", function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseDown(e.changedTouches[0]);\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"handleTouchEnd\", function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseUp(e.changedTouches[0]);\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"verticalCoordinatesGenerator\", function (_ref10) {\n        var xAxis = _ref10.xAxis,\n          width = _ref10.width,\n          height = _ref10.height,\n          offset = _ref10.offset;\n        return getCoordinatesOfGrid(getTicks(_objectSpread(_objectSpread(_objectSpread({}, CartesianAxis.defaultProps), xAxis), {}, {\n          ticks: getTicksOfAxis(xAxis, true),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          }\n        })), offset.left, offset.left + offset.width);\n      });\n      _defineProperty(_assertThisInitialized(_this), \"horizontalCoordinatesGenerator\", function (_ref11) {\n        var yAxis = _ref11.yAxis,\n          width = _ref11.width,\n          height = _ref11.height,\n          offset = _ref11.offset;\n        return getCoordinatesOfGrid(getTicks(_objectSpread(_objectSpread(_objectSpread({}, CartesianAxis.defaultProps), yAxis), {}, {\n          ticks: getTicksOfAxis(yAxis, true),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          }\n        })), offset.top, offset.top + offset.height);\n      });\n      _defineProperty(_assertThisInitialized(_this), \"axesTicksGenerator\", function (axis) {\n        return getTicksOfAxis(axis, true);\n      });\n      _defineProperty(_assertThisInitialized(_this), \"renderCursor\", function (element) {\n        var _this$state2 = _this.state,\n          isTooltipActive = _this$state2.isTooltipActive,\n          activeCoordinate = _this$state2.activeCoordinate,\n          activePayload = _this$state2.activePayload,\n          offset = _this$state2.offset,\n          activeTooltipIndex = _this$state2.activeTooltipIndex;\n        var tooltipEventType = _this.getTooltipEventType();\n        if (!element || !element.props.cursor || !isTooltipActive || !activeCoordinate || chartName !== 'ScatterChart' && tooltipEventType !== 'axis') {\n          return null;\n        }\n        var layout = _this.props.layout;\n        var restProps;\n        var cursorComp = Curve;\n        if (chartName === 'ScatterChart') {\n          restProps = activeCoordinate;\n          cursorComp = Cross;\n        } else if (chartName === 'BarChart') {\n          restProps = _this.getCursorRectangle();\n          cursorComp = Rectangle;\n        } else if (layout === 'radial') {\n          var _this$getCursorPoints = _this.getCursorPoints(),\n            cx = _this$getCursorPoints.cx,\n            cy = _this$getCursorPoints.cy,\n            radius = _this$getCursorPoints.radius,\n            startAngle = _this$getCursorPoints.startAngle,\n            endAngle = _this$getCursorPoints.endAngle;\n          restProps = {\n            cx: cx,\n            cy: cy,\n            startAngle: startAngle,\n            endAngle: endAngle,\n            innerRadius: radius,\n            outerRadius: radius\n          };\n          cursorComp = Sector;\n        } else {\n          restProps = {\n            points: _this.getCursorPoints()\n          };\n          cursorComp = Curve;\n        }\n        var key = element.key || '_recharts-cursor';\n        var cursorProps = _objectSpread(_objectSpread(_objectSpread(_objectSpread({\n          stroke: '#ccc',\n          pointerEvents: 'none'\n        }, offset), restProps), filterProps(element.props.cursor)), {}, {\n          payload: activePayload,\n          payloadIndex: activeTooltipIndex,\n          key: key,\n          className: 'recharts-tooltip-cursor'\n        });\n        return /*#__PURE__*/isValidElement(element.props.cursor) ? /*#__PURE__*/cloneElement(element.props.cursor, cursorProps) : /*#__PURE__*/createElement(cursorComp, cursorProps);\n      });\n      _defineProperty(_assertThisInitialized(_this), \"renderPolarAxis\", function (element, displayName, index) {\n        var axisType = _get(element, 'type.axisType');\n        var axisMap = _get(_this.state, \"\".concat(axisType, \"Map\"));\n        var axisOption = axisMap && axisMap[element.props[\"\".concat(axisType, \"Id\")]];\n        return /*#__PURE__*/cloneElement(element, _objectSpread(_objectSpread({}, axisOption), {}, {\n          className: axisType,\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          ticks: getTicksOfAxis(axisOption, true)\n        }));\n      });\n      _defineProperty(_assertThisInitialized(_this), \"renderXAxis\", function (element, displayName, index) {\n        var xAxisMap = _this.state.xAxisMap;\n        var axisObj = xAxisMap[element.props.xAxisId];\n        return _this.renderAxis(axisObj, element, displayName, index);\n      });\n      _defineProperty(_assertThisInitialized(_this), \"renderYAxis\", function (element, displayName, index) {\n        var yAxisMap = _this.state.yAxisMap;\n        var axisObj = yAxisMap[element.props.yAxisId];\n        return _this.renderAxis(axisObj, element, displayName, index);\n      });\n      /**\n       * Draw grid\n       * @param  {ReactElement} element the grid item\n       * @return {ReactElement} The instance of grid\n       */\n      _defineProperty(_assertThisInitialized(_this), \"renderGrid\", function (element) {\n        var _this$state3 = _this.state,\n          xAxisMap = _this$state3.xAxisMap,\n          yAxisMap = _this$state3.yAxisMap,\n          offset = _this$state3.offset;\n        var _this$props = _this.props,\n          width = _this$props.width,\n          height = _this$props.height;\n        var xAxis = getAnyElementOfObject(xAxisMap);\n        var yAxisWithFiniteDomain = _find(yAxisMap, function (axis) {\n          return _every(axis.domain, isFinit);\n        });\n        var yAxis = yAxisWithFiniteDomain || getAnyElementOfObject(yAxisMap);\n        var props = element.props || {};\n        return /*#__PURE__*/cloneElement(element, {\n          key: element.key || 'grid',\n          x: isNumber(props.x) ? props.x : offset.left,\n          y: isNumber(props.y) ? props.y : offset.top,\n          width: isNumber(props.width) ? props.width : offset.width,\n          height: isNumber(props.height) ? props.height : offset.height,\n          xAxis: xAxis,\n          yAxis: yAxis,\n          offset: offset,\n          chartWidth: width,\n          chartHeight: height,\n          verticalCoordinatesGenerator: props.verticalCoordinatesGenerator || _this.verticalCoordinatesGenerator,\n          horizontalCoordinatesGenerator: props.horizontalCoordinatesGenerator || _this.horizontalCoordinatesGenerator\n        });\n      });\n      _defineProperty(_assertThisInitialized(_this), \"renderPolarGrid\", function (element) {\n        var _element$props = element.props,\n          radialLines = _element$props.radialLines,\n          polarAngles = _element$props.polarAngles,\n          polarRadius = _element$props.polarRadius;\n        var _this$state4 = _this.state,\n          radiusAxisMap = _this$state4.radiusAxisMap,\n          angleAxisMap = _this$state4.angleAxisMap;\n        var radiusAxis = getAnyElementOfObject(radiusAxisMap);\n        var angleAxis = getAnyElementOfObject(angleAxisMap);\n        var cx = angleAxis.cx,\n          cy = angleAxis.cy,\n          innerRadius = angleAxis.innerRadius,\n          outerRadius = angleAxis.outerRadius;\n        return /*#__PURE__*/cloneElement(element, {\n          polarAngles: _isArray(polarAngles) ? polarAngles : getTicksOfAxis(angleAxis, true).map(function (entry) {\n            return entry.coordinate;\n          }),\n          polarRadius: _isArray(polarRadius) ? polarRadius : getTicksOfAxis(radiusAxis, true).map(function (entry) {\n            return entry.coordinate;\n          }),\n          cx: cx,\n          cy: cy,\n          innerRadius: innerRadius,\n          outerRadius: outerRadius,\n          key: element.key || 'polar-grid',\n          radialLines: radialLines\n        });\n      });\n      /**\n       * Draw legend\n       * @return {ReactElement}            The instance of Legend\n       */\n      _defineProperty(_assertThisInitialized(_this), \"renderLegend\", function () {\n        var formattedGraphicalItems = _this.state.formattedGraphicalItems;\n        var _this$props2 = _this.props,\n          children = _this$props2.children,\n          width = _this$props2.width,\n          height = _this$props2.height;\n        var margin = _this.props.margin || {};\n        var legendWidth = width - (margin.left || 0) - (margin.right || 0);\n        var props = getLegendProps({\n          children: children,\n          formattedGraphicalItems: formattedGraphicalItems,\n          legendWidth: legendWidth,\n          legendContent: legendContent\n        });\n        if (!props) {\n          return null;\n        }\n        var item = props.item,\n          otherProps = _objectWithoutProperties(props, _excluded);\n        return /*#__PURE__*/cloneElement(item, _objectSpread(_objectSpread({}, otherProps), {}, {\n          chartWidth: width,\n          chartHeight: height,\n          margin: margin,\n          ref: function ref(legend) {\n            _this.legendInstance = legend;\n          },\n          onBBoxUpdate: _this.handleLegendBBoxUpdate\n        }));\n      });\n      /**\n       * Draw Tooltip\n       * @return {ReactElement}  The instance of Tooltip\n       */\n      _defineProperty(_assertThisInitialized(_this), \"renderTooltip\", function () {\n        var children = _this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip);\n        if (!tooltipItem) {\n          return null;\n        }\n        var _this$state5 = _this.state,\n          isTooltipActive = _this$state5.isTooltipActive,\n          activeCoordinate = _this$state5.activeCoordinate,\n          activePayload = _this$state5.activePayload,\n          activeLabel = _this$state5.activeLabel,\n          offset = _this$state5.offset;\n        return /*#__PURE__*/cloneElement(tooltipItem, {\n          viewBox: _objectSpread(_objectSpread({}, offset), {}, {\n            x: offset.left,\n            y: offset.top\n          }),\n          active: isTooltipActive,\n          label: activeLabel,\n          payload: isTooltipActive ? activePayload : [],\n          coordinate: activeCoordinate\n        });\n      });\n      _defineProperty(_assertThisInitialized(_this), \"renderBrush\", function (element) {\n        var _this$props3 = _this.props,\n          margin = _this$props3.margin,\n          data = _this$props3.data;\n        var _this$state6 = _this.state,\n          offset = _this$state6.offset,\n          dataStartIndex = _this$state6.dataStartIndex,\n          dataEndIndex = _this$state6.dataEndIndex,\n          updateId = _this$state6.updateId;\n\n        // TODO: update brush when children update\n        return /*#__PURE__*/cloneElement(element, {\n          key: element.key || '_recharts-brush',\n          onChange: combineEventHandlers(_this.handleBrushChange, null, element.props.onChange),\n          data: data,\n          x: isNumber(element.props.x) ? element.props.x : offset.left,\n          y: isNumber(element.props.y) ? element.props.y : offset.top + offset.height + offset.brushBottom - (margin.bottom || 0),\n          width: isNumber(element.props.width) ? element.props.width : offset.width,\n          startIndex: dataStartIndex,\n          endIndex: dataEndIndex,\n          updateId: \"brush-\".concat(updateId)\n        });\n      });\n      _defineProperty(_assertThisInitialized(_this), \"renderReferenceElement\", function (element, displayName, index) {\n        if (!element) {\n          return null;\n        }\n        var _assertThisInitialize = _assertThisInitialized(_this),\n          clipPathId = _assertThisInitialize.clipPathId;\n        var _this$state7 = _this.state,\n          xAxisMap = _this$state7.xAxisMap,\n          yAxisMap = _this$state7.yAxisMap,\n          offset = _this$state7.offset;\n        var _element$props2 = element.props,\n          xAxisId = _element$props2.xAxisId,\n          yAxisId = _element$props2.yAxisId;\n        return /*#__PURE__*/cloneElement(element, {\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          xAxis: xAxisMap[xAxisId],\n          yAxis: yAxisMap[yAxisId],\n          viewBox: {\n            x: offset.left,\n            y: offset.top,\n            width: offset.width,\n            height: offset.height\n          },\n          clipPathId: clipPathId\n        });\n      });\n      _defineProperty(_assertThisInitialized(_this), \"renderActivePoints\", function (_ref12) {\n        var item = _ref12.item,\n          activePoint = _ref12.activePoint,\n          basePoint = _ref12.basePoint,\n          childIndex = _ref12.childIndex,\n          isRange = _ref12.isRange;\n        var result = [];\n        var key = item.props.key;\n        var _item$item$props = item.item.props,\n          activeDot = _item$item$props.activeDot,\n          dataKey = _item$item$props.dataKey;\n        var dotProps = _objectSpread(_objectSpread({\n          index: childIndex,\n          dataKey: dataKey,\n          cx: activePoint.x,\n          cy: activePoint.y,\n          r: 4,\n          fill: getMainColorOfGraphicItem(item.item),\n          strokeWidth: 2,\n          stroke: '#fff',\n          payload: activePoint.payload,\n          value: activePoint.value,\n          key: \"\".concat(key, \"-activePoint-\").concat(childIndex)\n        }, filterProps(activeDot)), adaptEventHandlers(activeDot));\n        result.push(CategoricalChartWrapper.renderActiveDot(activeDot, dotProps));\n        if (basePoint) {\n          result.push(CategoricalChartWrapper.renderActiveDot(activeDot, _objectSpread(_objectSpread({}, dotProps), {}, {\n            cx: basePoint.x,\n            cy: basePoint.y,\n            key: \"\".concat(key, \"-basePoint-\").concat(childIndex)\n          })));\n        } else if (isRange) {\n          result.push(null);\n        }\n        return result;\n      });\n      _defineProperty(_assertThisInitialized(_this), \"renderGraphicChild\", function (element, displayName, index) {\n        var item = _this.filterFormatItem(element, displayName, index);\n        if (!item) {\n          return null;\n        }\n        var tooltipEventType = _this.getTooltipEventType();\n        var _this$state8 = _this.state,\n          isTooltipActive = _this$state8.isTooltipActive,\n          tooltipAxis = _this$state8.tooltipAxis,\n          activeTooltipIndex = _this$state8.activeTooltipIndex,\n          activeLabel = _this$state8.activeLabel;\n        var children = _this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip);\n        var _item$props2 = item.props,\n          points = _item$props2.points,\n          isRange = _item$props2.isRange,\n          baseLine = _item$props2.baseLine;\n        var _item$item$props2 = item.item.props,\n          activeDot = _item$item$props2.activeDot,\n          hide = _item$item$props2.hide;\n        var hasActive = !hide && isTooltipActive && tooltipItem && activeDot && activeTooltipIndex >= 0;\n        var itemEvents = {};\n        if (tooltipEventType !== 'axis' && tooltipItem && tooltipItem.props.trigger === 'click') {\n          itemEvents = {\n            onClick: combineEventHandlers(_this.handleItemMouseEnter, null, element.props.onCLick)\n          };\n        } else if (tooltipEventType !== 'axis') {\n          itemEvents = {\n            onMouseLeave: combineEventHandlers(_this.handleItemMouseLeave, null, element.props.onMouseLeave),\n            onMouseEnter: combineEventHandlers(_this.handleItemMouseEnter, null, element.props.onMouseEnter)\n          };\n        }\n        var graphicalItem = /*#__PURE__*/cloneElement(element, _objectSpread(_objectSpread({}, item.props), itemEvents));\n        function findWithPayload(entry) {\n          // TODO needs to verify dataKey is Function\n          return typeof tooltipAxis.dataKey === 'function' ? tooltipAxis.dataKey(entry.payload) : null;\n        }\n        if (hasActive) {\n          var activePoint, basePoint;\n          if (tooltipAxis.dataKey && !tooltipAxis.allowDuplicatedCategory) {\n            // number transform to string\n            var specifiedKey = typeof tooltipAxis.dataKey === 'function' ? findWithPayload : 'payload.'.concat(tooltipAxis.dataKey.toString());\n            activePoint = findEntryInArray(points, specifiedKey, activeLabel);\n            basePoint = isRange && baseLine && findEntryInArray(baseLine, specifiedKey, activeLabel);\n          } else {\n            activePoint = points[activeTooltipIndex];\n            basePoint = isRange && baseLine && baseLine[activeTooltipIndex];\n          }\n          if (!_isNil(activePoint)) {\n            return [graphicalItem].concat(_toConsumableArray(_this.renderActivePoints({\n              item: item,\n              activePoint: activePoint,\n              basePoint: basePoint,\n              childIndex: activeTooltipIndex,\n              isRange: isRange\n            })));\n          }\n        }\n        if (isRange) {\n          return [graphicalItem, null, null];\n        }\n        return [graphicalItem, null];\n      });\n      _defineProperty(_assertThisInitialized(_this), \"renderCustomized\", function (element, displayName, index) {\n        return /*#__PURE__*/cloneElement(element, _objectSpread(_objectSpread({\n          key: \"recharts-customized-\".concat(index)\n        }, _this.props), _this.state));\n      });\n      _this.uniqueChartId = _isNil(_props.id) ? uniqueId('recharts') : _props.id;\n      _this.clipPathId = \"\".concat(_this.uniqueChartId, \"-clip\");\n      if (_props.throttleDelay) {\n        _this.triggeredAfterMouseMove = _throttle(_this.triggeredAfterMouseMove, _props.throttleDelay);\n      }\n      _this.state = {};\n      return _this;\n    }\n    _createClass(CategoricalChartWrapper, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this$props$margin$le, _this$props$margin$to;\n        if (!_isNil(this.props.syncId)) {\n          this.addListener();\n        }\n        this.accessibilityManager.setDetails({\n          container: this.container,\n          offset: {\n            left: (_this$props$margin$le = this.props.margin.left) !== null && _this$props$margin$le !== void 0 ? _this$props$margin$le : 0,\n            top: (_this$props$margin$to = this.props.margin.top) !== null && _this$props$margin$to !== void 0 ? _this$props$margin$to : 0\n          },\n          coordinateList: this.state.tooltipTicks,\n          mouseHandlerCallback: this.handleMouseMove,\n          layout: this.props.layout\n        });\n      }\n    }, {\n      key: \"getSnapshotBeforeUpdate\",\n      value: function getSnapshotBeforeUpdate(prevProps, prevState) {\n        if (!this.props.accessibilityLayer) {\n          return null;\n        }\n        if (this.state.tooltipTicks !== prevState.tooltipTicks) {\n          this.accessibilityManager.setDetails({\n            coordinateList: this.state.tooltipTicks\n          });\n        }\n        if (this.props.layout !== prevProps.layout) {\n          this.accessibilityManager.setDetails({\n            layout: this.props.layout\n          });\n        }\n        if (this.props.margin !== prevProps.margin) {\n          var _this$props$margin$le2, _this$props$margin$to2;\n          this.accessibilityManager.setDetails({\n            offset: {\n              left: (_this$props$margin$le2 = this.props.margin.left) !== null && _this$props$margin$le2 !== void 0 ? _this$props$margin$le2 : 0,\n              top: (_this$props$margin$to2 = this.props.margin.top) !== null && _this$props$margin$to2 !== void 0 ? _this$props$margin$to2 : 0\n            }\n          });\n        }\n\n        // Something has to be returned for getSnapshotBeforeUpdate\n        return null;\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        // add syncId\n        if (_isNil(prevProps.syncId) && !_isNil(this.props.syncId)) {\n          this.addListener();\n        }\n        // remove syncId\n        if (!_isNil(prevProps.syncId) && _isNil(this.props.syncId)) {\n          this.removeListener();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.clearDeferId();\n        if (!_isNil(this.props.syncId)) {\n          this.removeListener();\n        }\n        this.cancelThrottledTriggerAfterMouseMove();\n      }\n    }, {\n      key: \"cancelThrottledTriggerAfterMouseMove\",\n      value: function cancelThrottledTriggerAfterMouseMove() {\n        if (typeof this.triggeredAfterMouseMove.cancel === 'function') {\n          this.triggeredAfterMouseMove.cancel();\n        }\n      }\n    }, {\n      key: \"getTooltipEventType\",\n      value: function getTooltipEventType() {\n        var tooltipItem = findChildByType(this.props.children, Tooltip);\n        if (tooltipItem && _isBoolean(tooltipItem.props.shared)) {\n          var eventType = tooltipItem.props.shared ? 'axis' : 'item';\n          return validateTooltipEventTypes.indexOf(eventType) >= 0 ? eventType : defaultTooltipEventType;\n        }\n        return defaultTooltipEventType;\n      }\n\n      /**\n       * Get the information of mouse in chart, return null when the mouse is not in the chart\n       * @param  {Object} event    The event object\n       * @return {Object}          Mouse data\n       */\n    }, {\n      key: \"getMouseInfo\",\n      value: function getMouseInfo(event) {\n        if (!this.container) {\n          return null;\n        }\n        var containerOffset = getOffset(this.container);\n        var e = calculateChartCoordinate(event, containerOffset);\n        var rangeObj = this.inRange(e.chartX, e.chartY);\n        if (!rangeObj) {\n          return null;\n        }\n        var _this$state9 = this.state,\n          xAxisMap = _this$state9.xAxisMap,\n          yAxisMap = _this$state9.yAxisMap;\n        var tooltipEventType = this.getTooltipEventType();\n        if (tooltipEventType !== 'axis' && xAxisMap && yAxisMap) {\n          var xScale = getAnyElementOfObject(xAxisMap).scale;\n          var yScale = getAnyElementOfObject(yAxisMap).scale;\n          var xValue = xScale && xScale.invert ? xScale.invert(e.chartX) : null;\n          var yValue = yScale && yScale.invert ? yScale.invert(e.chartY) : null;\n          return _objectSpread(_objectSpread({}, e), {}, {\n            xValue: xValue,\n            yValue: yValue\n          });\n        }\n        var toolTipData = getTooltipData(this.state, this.props.data, this.props.layout, rangeObj);\n        if (toolTipData) {\n          return _objectSpread(_objectSpread({}, e), toolTipData);\n        }\n        return null;\n      }\n    }, {\n      key: \"getCursorRectangle\",\n      value: function getCursorRectangle() {\n        var layout = this.props.layout;\n        var _this$state10 = this.state,\n          activeCoordinate = _this$state10.activeCoordinate,\n          offset = _this$state10.offset,\n          tooltipAxisBandSize = _this$state10.tooltipAxisBandSize;\n        var halfSize = tooltipAxisBandSize / 2;\n        return {\n          stroke: 'none',\n          fill: '#ccc',\n          x: layout === 'horizontal' ? activeCoordinate.x - halfSize : offset.left + 0.5,\n          y: layout === 'horizontal' ? offset.top + 0.5 : activeCoordinate.y - halfSize,\n          width: layout === 'horizontal' ? tooltipAxisBandSize : offset.width - 1,\n          height: layout === 'horizontal' ? offset.height - 1 : tooltipAxisBandSize\n        };\n      }\n    }, {\n      key: \"getCursorPoints\",\n      value: function getCursorPoints() {\n        var layout = this.props.layout;\n        var _this$state11 = this.state,\n          activeCoordinate = _this$state11.activeCoordinate,\n          offset = _this$state11.offset;\n        var x1, y1, x2, y2;\n        if (layout === 'horizontal') {\n          x1 = activeCoordinate.x;\n          x2 = x1;\n          y1 = offset.top;\n          y2 = offset.top + offset.height;\n        } else if (layout === 'vertical') {\n          y1 = activeCoordinate.y;\n          y2 = y1;\n          x1 = offset.left;\n          x2 = offset.left + offset.width;\n        } else if (!_isNil(activeCoordinate.cx) || !_isNil(activeCoordinate.cy)) {\n          if (layout === 'centric') {\n            var cx = activeCoordinate.cx,\n              cy = activeCoordinate.cy,\n              innerRadius = activeCoordinate.innerRadius,\n              outerRadius = activeCoordinate.outerRadius,\n              angle = activeCoordinate.angle;\n            var innerPoint = polarToCartesian(cx, cy, innerRadius, angle);\n            var outerPoint = polarToCartesian(cx, cy, outerRadius, angle);\n            x1 = innerPoint.x;\n            y1 = innerPoint.y;\n            x2 = outerPoint.x;\n            y2 = outerPoint.y;\n          } else {\n            var _cx = activeCoordinate.cx,\n              _cy = activeCoordinate.cy,\n              radius = activeCoordinate.radius,\n              startAngle = activeCoordinate.startAngle,\n              endAngle = activeCoordinate.endAngle;\n            var startPoint = polarToCartesian(_cx, _cy, radius, startAngle);\n            var endPoint = polarToCartesian(_cx, _cy, radius, endAngle);\n            return {\n              points: [startPoint, endPoint],\n              cx: _cx,\n              cy: _cy,\n              radius: radius,\n              startAngle: startAngle,\n              endAngle: endAngle\n            };\n          }\n        }\n        return [{\n          x: x1,\n          y: y1\n        }, {\n          x: x2,\n          y: y2\n        }];\n      }\n    }, {\n      key: \"inRange\",\n      value: function inRange(x, y) {\n        var layout = this.props.layout;\n        if (layout === 'horizontal' || layout === 'vertical') {\n          var offset = this.state.offset;\n          var isInRange = x >= offset.left && x <= offset.left + offset.width && y >= offset.top && y <= offset.top + offset.height;\n          return isInRange ? {\n            x: x,\n            y: y\n          } : null;\n        }\n        var _this$state12 = this.state,\n          angleAxisMap = _this$state12.angleAxisMap,\n          radiusAxisMap = _this$state12.radiusAxisMap;\n        if (angleAxisMap && radiusAxisMap) {\n          var angleAxis = getAnyElementOfObject(angleAxisMap);\n          return inRangeOfSector({\n            x: x,\n            y: y\n          }, angleAxis);\n        }\n        return null;\n      }\n    }, {\n      key: \"parseEventsOfWrapper\",\n      value: function parseEventsOfWrapper() {\n        var children = this.props.children;\n        var tooltipEventType = this.getTooltipEventType();\n        var tooltipItem = findChildByType(children, Tooltip);\n        var tooltipEvents = {};\n        if (tooltipItem && tooltipEventType === 'axis') {\n          if (tooltipItem.props.trigger === 'click') {\n            tooltipEvents = {\n              onClick: this.handleClick\n            };\n          } else {\n            tooltipEvents = {\n              onMouseEnter: this.handleMouseEnter,\n              onMouseMove: this.handleMouseMove,\n              onMouseLeave: this.handleMouseLeave,\n              onTouchMove: this.handleTouchMove,\n              onTouchStart: this.handleTouchStart,\n              onTouchEnd: this.handleTouchEnd\n            };\n          }\n        }\n        var outerEvents = adaptEventHandlers(this.props, this.handleOuterEvent);\n        return _objectSpread(_objectSpread({}, outerEvents), tooltipEvents);\n      }\n\n      /* eslint-disable  no-underscore-dangle */\n    }, {\n      key: \"addListener\",\n      value: function addListener() {\n        eventCenter.on(SYNC_EVENT, this.handleReceiveSyncEvent);\n        if (eventCenter.setMaxListeners && eventCenter._maxListeners) {\n          eventCenter.setMaxListeners(eventCenter._maxListeners + 1);\n        }\n      }\n    }, {\n      key: \"removeListener\",\n      value: function removeListener() {\n        eventCenter.removeListener(SYNC_EVENT, this.handleReceiveSyncEvent);\n        if (eventCenter.setMaxListeners && eventCenter._maxListeners) {\n          eventCenter.setMaxListeners(eventCenter._maxListeners - 1);\n        }\n      }\n    }, {\n      key: \"triggerSyncEvent\",\n      value: function triggerSyncEvent(data) {\n        var syncId = this.props.syncId;\n        if (!_isNil(syncId)) {\n          eventCenter.emit(SYNC_EVENT, syncId, this.uniqueChartId, data);\n        }\n      }\n    }, {\n      key: \"applySyncEvent\",\n      value: function applySyncEvent(data) {\n        var _this$props4 = this.props,\n          layout = _this$props4.layout,\n          syncMethod = _this$props4.syncMethod;\n        var updateId = this.state.updateId;\n        var dataStartIndex = data.dataStartIndex,\n          dataEndIndex = data.dataEndIndex;\n        if (!_isNil(data.dataStartIndex) || !_isNil(data.dataEndIndex)) {\n          this.setState(_objectSpread({\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          }, updateStateOfAxisMapsOffsetAndStackGroups({\n            props: this.props,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex,\n            updateId: updateId\n          }, this.state)));\n        } else if (!_isNil(data.activeTooltipIndex)) {\n          var chartX = data.chartX,\n            chartY = data.chartY;\n          var activeTooltipIndex = data.activeTooltipIndex;\n          var _this$state13 = this.state,\n            offset = _this$state13.offset,\n            tooltipTicks = _this$state13.tooltipTicks;\n          if (!offset) {\n            return;\n          }\n          if (typeof syncMethod === 'function') {\n            // Call a callback function. If there is an application specific algorithm\n            activeTooltipIndex = syncMethod(tooltipTicks, data);\n          } else if (syncMethod === 'value') {\n            // Set activeTooltipIndex to the index with the same value as data.activeLabel\n            // For loop instead of findIndex because the latter is very slow in some browsers\n            activeTooltipIndex = -1; // in case we cannot find the element\n            for (var i = 0; i < tooltipTicks.length; i++) {\n              if (tooltipTicks[i].value === data.activeLabel) {\n                activeTooltipIndex = i;\n                break;\n              }\n            }\n          }\n          var viewBox = _objectSpread(_objectSpread({}, offset), {}, {\n            x: offset.left,\n            y: offset.top\n          });\n          // When a categorical chart is combined with another chart, the value of chartX\n          // and chartY may beyond the boundaries.\n          var validateChartX = Math.min(chartX, viewBox.x + viewBox.width);\n          var validateChartY = Math.min(chartY, viewBox.y + viewBox.height);\n          var activeLabel = tooltipTicks[activeTooltipIndex] && tooltipTicks[activeTooltipIndex].value;\n          var activePayload = getTooltipContent(this.state, this.props.data, activeTooltipIndex);\n          var activeCoordinate = tooltipTicks[activeTooltipIndex] ? {\n            x: layout === 'horizontal' ? tooltipTicks[activeTooltipIndex].coordinate : validateChartX,\n            y: layout === 'horizontal' ? validateChartY : tooltipTicks[activeTooltipIndex].coordinate\n          } : originCoordinate;\n          this.setState(_objectSpread(_objectSpread({}, data), {}, {\n            activeLabel: activeLabel,\n            activeCoordinate: activeCoordinate,\n            activePayload: activePayload,\n            activeTooltipIndex: activeTooltipIndex\n          }));\n        } else {\n          this.setState(data);\n        }\n      }\n    }, {\n      key: \"filterFormatItem\",\n      value: function filterFormatItem(item, displayName, childIndex) {\n        var formattedGraphicalItems = this.state.formattedGraphicalItems;\n        for (var i = 0, len = formattedGraphicalItems.length; i < len; i++) {\n          var entry = formattedGraphicalItems[i];\n          if (entry.item === item || entry.props.key === item.key || displayName === getDisplayName(entry.item.type) && childIndex === entry.childIndex) {\n            return entry;\n          }\n        }\n        return null;\n      }\n    }, {\n      key: \"renderAxis\",\n      value:\n      /**\n       * Draw axis\n       * @param {Object} axisOptions The options of axis\n       * @param {Object} element      The axis element\n       * @param {String} displayName  The display name of axis\n       * @param {Number} index        The index of element\n       * @return {ReactElement}       The instance of x-axes\n       */\n      function renderAxis(axisOptions, element, displayName, index) {\n        var _this$props5 = this.props,\n          width = _this$props5.width,\n          height = _this$props5.height;\n        return /*#__PURE__*/React.createElement(CartesianAxis, _extends({}, axisOptions, {\n          className: \"recharts-\".concat(axisOptions.axisType, \" \").concat(axisOptions.axisType),\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          },\n          ticksGenerator: this.axesTicksGenerator\n        }));\n      }\n    }, {\n      key: \"renderClipPath\",\n      value: function renderClipPath() {\n        var clipPathId = this.clipPathId;\n        var _this$state$offset = this.state.offset,\n          left = _this$state$offset.left,\n          top = _this$state$offset.top,\n          height = _this$state$offset.height,\n          width = _this$state$offset.width;\n        return /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n          id: clipPathId\n        }, /*#__PURE__*/React.createElement(\"rect\", {\n          x: left,\n          y: top,\n          height: height,\n          width: width\n        })));\n      }\n    }, {\n      key: \"getXScales\",\n      value: function getXScales() {\n        var xAxisMap = this.state.xAxisMap;\n        return xAxisMap ? Object.entries(xAxisMap).reduce(function (res, _ref13) {\n          var _ref14 = _slicedToArray(_ref13, 2),\n            axisId = _ref14[0],\n            axisProps = _ref14[1];\n          return _objectSpread(_objectSpread({}, res), {}, _defineProperty({}, axisId, axisProps.scale));\n        }, {}) : null;\n      }\n    }, {\n      key: \"getYScales\",\n      value: function getYScales() {\n        var yAxisMap = this.state.yAxisMap;\n        return yAxisMap ? Object.entries(yAxisMap).reduce(function (res, _ref15) {\n          var _ref16 = _slicedToArray(_ref15, 2),\n            axisId = _ref16[0],\n            axisProps = _ref16[1];\n          return _objectSpread(_objectSpread({}, res), {}, _defineProperty({}, axisId, axisProps.scale));\n        }, {}) : null;\n      }\n    }, {\n      key: \"getXScaleByAxisId\",\n      value: function getXScaleByAxisId(axisId) {\n        var _this$state$xAxisMap, _this$state$xAxisMap$;\n        return (_this$state$xAxisMap = this.state.xAxisMap) === null || _this$state$xAxisMap === void 0 ? void 0 : (_this$state$xAxisMap$ = _this$state$xAxisMap[axisId]) === null || _this$state$xAxisMap$ === void 0 ? void 0 : _this$state$xAxisMap$.scale;\n      }\n    }, {\n      key: \"getYScaleByAxisId\",\n      value: function getYScaleByAxisId(axisId) {\n        var _this$state$yAxisMap, _this$state$yAxisMap$;\n        return (_this$state$yAxisMap = this.state.yAxisMap) === null || _this$state$yAxisMap === void 0 ? void 0 : (_this$state$yAxisMap$ = _this$state$yAxisMap[axisId]) === null || _this$state$yAxisMap$ === void 0 ? void 0 : _this$state$yAxisMap$.scale;\n      }\n    }, {\n      key: \"getItemByXY\",\n      value: function getItemByXY(chartXY) {\n        var formattedGraphicalItems = this.state.formattedGraphicalItems;\n        if (formattedGraphicalItems && formattedGraphicalItems.length) {\n          for (var i = 0, len = formattedGraphicalItems.length; i < len; i++) {\n            var graphicalItem = formattedGraphicalItems[i];\n            var props = graphicalItem.props,\n              item = graphicalItem.item;\n            var itemDisplayName = getDisplayName(item.type);\n            if (itemDisplayName === 'Bar') {\n              var activeBarItem = (props.data || []).find(function (entry) {\n                return isInRectangle(chartXY, entry);\n              });\n              if (activeBarItem) {\n                return {\n                  graphicalItem: graphicalItem,\n                  payload: activeBarItem\n                };\n              }\n            } else if (itemDisplayName === 'RadialBar') {\n              var _activeBarItem = (props.data || []).find(function (entry) {\n                return inRangeOfSector(chartXY, entry);\n              });\n              if (_activeBarItem) {\n                return {\n                  graphicalItem: graphicalItem,\n                  payload: _activeBarItem\n                };\n              }\n            }\n          }\n        }\n        return null;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n        if (!validateWidthHeight(this)) {\n          return null;\n        }\n        var _this$props6 = this.props,\n          children = _this$props6.children,\n          className = _this$props6.className,\n          width = _this$props6.width,\n          height = _this$props6.height,\n          style = _this$props6.style,\n          compact = _this$props6.compact,\n          title = _this$props6.title,\n          desc = _this$props6.desc,\n          others = _objectWithoutProperties(_this$props6, _excluded2);\n        var attrs = filterProps(others);\n        var map = {\n          CartesianGrid: {\n            handler: this.renderGrid,\n            once: true\n          },\n          ReferenceArea: {\n            handler: this.renderReferenceElement\n          },\n          ReferenceLine: {\n            handler: this.renderReferenceElement\n          },\n          ReferenceDot: {\n            handler: this.renderReferenceElement\n          },\n          XAxis: {\n            handler: this.renderXAxis\n          },\n          YAxis: {\n            handler: this.renderYAxis\n          },\n          Brush: {\n            handler: this.renderBrush,\n            once: true\n          },\n          Bar: {\n            handler: this.renderGraphicChild\n          },\n          Line: {\n            handler: this.renderGraphicChild\n          },\n          Area: {\n            handler: this.renderGraphicChild\n          },\n          Radar: {\n            handler: this.renderGraphicChild\n          },\n          RadialBar: {\n            handler: this.renderGraphicChild\n          },\n          Scatter: {\n            handler: this.renderGraphicChild\n          },\n          Pie: {\n            handler: this.renderGraphicChild\n          },\n          Funnel: {\n            handler: this.renderGraphicChild\n          },\n          Tooltip: {\n            handler: this.renderCursor,\n            once: true\n          },\n          PolarGrid: {\n            handler: this.renderPolarGrid,\n            once: true\n          },\n          PolarAngleAxis: {\n            handler: this.renderPolarAxis\n          },\n          PolarRadiusAxis: {\n            handler: this.renderPolarAxis\n          },\n          Customized: {\n            handler: this.renderCustomized\n          }\n        };\n\n        // The \"compact\" mode is mainly used as the panorama within Brush\n        if (compact) {\n          return /*#__PURE__*/React.createElement(Surface, _extends({}, attrs, {\n            width: width,\n            height: height,\n            title: title,\n            desc: desc\n          }), this.renderClipPath(), renderByOrder(children, map));\n        }\n        if (this.props.accessibilityLayer) {\n          var _2, _img;\n          // Set tabIndex to 0 by default (can be overwritten)\n          attrs.tabIndex = (_2 = 0) !== null && _2 !== void 0 ? _2 : this.props.tabIndex;\n          // Set role to img by default (can be overwritten)\n          attrs.role = (_img = 'img') !== null && _img !== void 0 ? _img : this.props.role;\n          attrs.onKeyDown = function (e) {\n            _this2.accessibilityManager.keyboardEvent(e);\n            // 'onKeyDown' is not currently a supported prop that can be passed through\n            // if it's added, this should be added: this.props.onKeyDown(e);\n          };\n\n          attrs.onFocus = function () {\n            _this2.accessibilityManager.focus();\n            // 'onFocus' is not currently a supported prop that can be passed through\n            // if it's added, the focus event should be forwarded to the prop\n          };\n        }\n\n        var events = this.parseEventsOfWrapper();\n        return /*#__PURE__*/React.createElement(\"div\", _extends({\n          className: classNames('recharts-wrapper', className),\n          style: _objectSpread({\n            position: 'relative',\n            cursor: 'default',\n            width: width,\n            height: height\n          }, style)\n        }, events, {\n          ref: function ref(node) {\n            _this2.container = node;\n          },\n          role: \"region\"\n        }), /*#__PURE__*/React.createElement(Surface, _extends({}, attrs, {\n          width: width,\n          height: height,\n          title: title,\n          desc: desc\n        }), this.renderClipPath(), renderByOrder(children, map)), this.renderLegend(), this.renderTooltip());\n      }\n    }]);\n    return CategoricalChartWrapper;\n  }(Component), _defineProperty(_class, \"displayName\", chartName), _defineProperty(_class, \"defaultProps\", _objectSpread({\n    layout: 'horizontal',\n    stackOffset: 'none',\n    barCategoryGap: '10%',\n    barGap: 4,\n    margin: {\n      top: 5,\n      right: 5,\n      bottom: 5,\n      left: 5\n    },\n    reverseStackOrder: false,\n    syncMethod: 'index'\n  }, defaultProps)), _defineProperty(_class, \"getDerivedStateFromProps\", function (nextProps, prevState) {\n    var data = nextProps.data,\n      children = nextProps.children,\n      width = nextProps.width,\n      height = nextProps.height,\n      layout = nextProps.layout,\n      stackOffset = nextProps.stackOffset,\n      margin = nextProps.margin;\n    if (_isNil(prevState.updateId)) {\n      var defaultState = createDefaultState(nextProps);\n      return _objectSpread(_objectSpread(_objectSpread({}, defaultState), {}, {\n        updateId: 0\n      }, updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread(_objectSpread({\n        props: nextProps\n      }, defaultState), {}, {\n        updateId: 0\n      }), prevState)), {}, {\n        prevData: data,\n        prevWidth: width,\n        prevHeight: height,\n        prevLayout: layout,\n        prevStackOffset: stackOffset,\n        prevMargin: margin,\n        prevChildren: children\n      });\n    }\n    if (data !== prevState.prevData || width !== prevState.prevWidth || height !== prevState.prevHeight || layout !== prevState.prevLayout || stackOffset !== prevState.prevStackOffset || !shallowEqual(margin, prevState.prevMargin)) {\n      var _defaultState = createDefaultState(nextProps);\n\n      // Fixes https://github.com/recharts/recharts/issues/2143\n      var keepFromPrevState = {\n        // (chartX, chartY) are (0,0) in default state, but we want to keep the last mouse position to avoid\n        // any flickering\n        chartX: prevState.chartX,\n        chartY: prevState.chartY,\n        // The tooltip should stay active when it was active in the previous render. If this is not\n        // the case, the tooltip disappears and immediately re-appears, causing a flickering effect\n        isTooltipActive: prevState.isTooltipActive\n      };\n      var updatesToState = _objectSpread(_objectSpread({}, getTooltipData(prevState, data, layout)), {}, {\n        updateId: prevState.updateId + 1\n      });\n      var newState = _objectSpread(_objectSpread(_objectSpread({}, _defaultState), keepFromPrevState), updatesToState);\n      return _objectSpread(_objectSpread(_objectSpread({}, newState), updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread({\n        props: nextProps\n      }, newState), prevState)), {}, {\n        prevData: data,\n        prevWidth: width,\n        prevHeight: height,\n        prevLayout: layout,\n        prevStackOffset: stackOffset,\n        prevMargin: margin,\n        prevChildren: children\n      });\n    }\n    if (!isChildrenEqual(children, prevState.prevChildren)) {\n      // update configuration in children\n      var hasGlobalData = !_isNil(data);\n      var newUpdateId = hasGlobalData ? prevState.updateId : prevState.updateId + 1;\n      return _objectSpread(_objectSpread({\n        updateId: newUpdateId\n      }, updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread(_objectSpread({\n        props: nextProps\n      }, prevState), {}, {\n        updateId: newUpdateId\n      }), prevState)), {}, {\n        prevChildren: children\n      });\n    }\n    return null;\n  }), _defineProperty(_class, \"renderActiveDot\", function (option, props) {\n    var dot;\n    if ( /*#__PURE__*/isValidElement(option)) {\n      dot = /*#__PURE__*/cloneElement(option, props);\n    } else if (_isFunction(option)) {\n      dot = option(props);\n    } else {\n      dot = /*#__PURE__*/React.createElement(Dot, props);\n    }\n    return /*#__PURE__*/React.createElement(Layer, {\n      className: \"recharts-active-dot\",\n      key: props.key\n    }, dot);\n  }), _class;\n};"]},"metadata":{},"sourceType":"module"}